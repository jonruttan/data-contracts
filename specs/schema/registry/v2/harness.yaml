version: 2
id: schema.registry.v2.harness
type: harness
fields:
  harness:
    type: mapping
    required: true
    since: v2
    description: Suite-level execution harness binding.
  harness.type:
    type: string
    required: true
    since: v2
    description: Harness type (for example unit.test).
  harness.profile:
    type: string
    required: true
    since: v2
    description: Harness execution profile.
  harness.config:
    type: mapping
    required: false
    since: v2
    description: Harness runtime configuration mapping.
  services:
    type: mapping
    required: false
    since: v2
    description: Optional suite-level service bindings with defaults and 
      entries; required when service imports or bindings are used.
  services.defaults:
    type: mapping
    required: false
    since: v2
    description: Optional defaults merged into each services.entries[] row.
  services.entries:
    type: list
    required: true
    since: v2
    description: Non-empty service entries for concrete runtime hooks.
  services.entries[].id:
    type: string
    required: true
    since: v2
  services.entries[].type:
    type: string
    required: false
    since: v2
    description: Service type resolved by service_contract_catalog_v1.
  services.entries[].imports:
    type: list
    required: false
    since: v2
  bindings:
    type: list
    required: false
    since: v2
    description: Optional suite bindings that connect contracts to service calls
      via artifact-id I/O.
  bindings[].id:
    type: string
    required: true
    since: v2
  bindings[].contract:
    type: string
    required: true
    since: v2
  bindings[].service:
    type: string
    required: false
    since: v2
  bindings[].import:
    type: string
    required: true
    since: v2
  services.entries[].imports[].names:
    type: list
    required: true
    since: v2
    description: Service import names bound as service_id.import_name.
  services.entries[].imports[].as:
    type: mapping
    required: false
    since: v2
