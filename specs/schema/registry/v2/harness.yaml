version: 2
id: schema.registry.v2.harness
type: harness
fields:
  harness:
    type: mapping
    required: true
    since: v2
    description: Suite-level execution harness binding.
  harness.type:
    type: string
    required: true
    since: v2
    description: Harness type (for example unit.test).
  harness.profile:
    type: string
    required: true
    since: v2
    description: Harness execution profile.
  harness.config:
    type: mapping
    required: false
    since: v2
    description: Harness runtime configuration mapping.
  services:
    type: list
    required: false
    since: v2
    description: Optional suite-level service bindings; required when service
      imports or contract bindings are used.
  services[].config:
    type: mapping
    required: false
    since: v2
    description: Service runtime configuration. External locators must be routed
      through artifact ids (`*_artifact_id`/`*_artifact_ids`); direct locator
      keys are invalid.
  services[].id:
    type: string
    required: true
    since: v2
  services[].type:
    type: string
    required: false
    since: v2
    description: Service type resolved by service_contract_catalog_v1.
  services[].imports:
    type: list
    required: false
    description: Canonical service callable import rows (`names`, optional `as`).
    since: v2
  services[].imports[].names:
    type: list
    required: true
    since: v2
    description: Service import names bound as service_id.import_name.
  services[].imports[].as:
    type: mapping
    required: false
    since: v2
