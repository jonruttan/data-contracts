version: 2
id: schema.registry.v2.core
type: core
fields:
  spec_version:
    type: int
    required: true
    since: v2
  schema_ref:
    type: string
    required: true
    since: v2
  defaults:
    type: mapping
    required: false
    since: v2
  artifact:
    type: mapping
    required: false
    since: v2
  artifact.imports:
    type: list
    required: false
    since: v2
  artifact.imports[].id:
    type: string
    required: true
    since: v2
  artifact.imports[].ref:
    type: string
    required: true
    since: v2
    description: Supports moustache templates resolved from suite context.
  artifact.imports[].type:
    type: string
    required: false
    since: v2
  artifact.imports[].inputs:
    type: mapping
    required: false
    since: v2
  artifact.imports[].options:
    type: mapping
    required: false
    since: v2
  artifact.imports[].doc:
    type: mapping
    required: false
    since: v2
  artifact.exports:
    type: list
    required: false
    since: v2
  artifact.exports[].id:
    type: string
    required: true
    since: v2
  artifact.exports[].ref:
    type: string
    required: true
    since: v2
    description: Supports moustache templates resolved from suite context.
  artifact.exports[].type:
    type: string
    required: false
    since: v2
  artifact.exports[].options:
    type: mapping
    required: false
    since: v2
  artifact.exports[].doc:
    type: mapping
    required: false
    since: v2
  exports:
    type: list
    required: false
    since: v2
  exports[].as:
    type: string
    required: true
    since: v2
    description: Required function export symbol name.
  exports[].from:
    type: string
    required: true
    since: v2
    enum:
      - assert.function
    description: Required function export source.
  exports[].path:
    type: string
    required: true
    since: v2
    description: Required function export path.
  exports[].params:
    type: list
    required: false
    since: v2
    description: Optional ordered function parameter names.
  exports[].required:
    type: bool
    required: false
    since: v2
    description: Optional function export requirement flag.
  exports[].doc:
    type: mapping
    required: false
    since: v2
  contracts:
    type: list
    required: true
    since: v2
  contracts[].id:
    type: string
    required: true
    since: v2
  contracts[].harness:
    type: string
    required: true
    since: v2
  title:
    type: string
    required: false
    since: v2
  purpose:
    type: string
    required: false
    since: v2
  doc:
    type: mapping
    required: false
    since: v2
  doc.summary:
    type: string
    required: false
    since: v2
  doc.description:
    type: string
    required: false
    since: v2
  doc.audience:
    type: string
    required: false
    since: v2
  doc.since:
    type: string
    required: false
    since: v2
  doc.tags:
    type: list
    required: false
    since: v2
  doc.see_also:
    type: list
    required: false
    since: v2
  domain:
    type: string
    required: false
    since: v2
  contracts[].title:
    type: string
    required: false
    since: v2
  contracts[].purpose:
    type: string
    required: false
    since: v2
  contracts[].domain:
    type: string
    required: false
    since: v2
  contracts[].when:
    type: mapping
    required: false
    since: v2
  contracts[].when.required:
    type: list
    required: false
    since: v2
  contracts[].when.optional:
    type: list
    required: false
    since: v2
  contracts[].when.fail:
    type: list
    required: false
    since: v2
  contracts[].when.complete:
    type: list
    required: false
    since: v2
  contracts[].clauses:
    type: mapping
    required: true
    since: v2
  contracts[].clauses.profile:
    type: string
    required: false
    since: v2
  contracts[].clauses.config:
    type: mapping
    required: false
    since: v2
  contracts[].expect:
    type: mapping
    required: false
    since: v2
  contracts[].expect.portable:
    type: mapping
    required: false
    since: v2
  contracts[].expect.portable.status:
    type: string
    required: false
    since: v2
  contracts[].expect.portable.category:
    type: string
    required: false
    since: v2
  contracts[].expect.portable.message_tokens:
    type: list
    required: false
    since: v2
  contracts[].expect.overrides:
    type: list
    required: false
    since: v2
  contracts[].expect.overrides[].runner:
    type: string
    required: true
    since: v2
  contracts[].expect.overrides[].status:
    type: string
    required: false
    since: v2
  contracts[].expect.overrides[].category:
    type: string
    required: false
    since: v2
  contracts[].expect.overrides[].message_tokens:
    type: list
    required: false
    since: v2
  contracts[].requires:
    type: mapping
    required: false
    since: v2
