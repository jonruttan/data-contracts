version: 2
id: schema.registry.v2.core
type: core
fields:
  spec_version:
    type: int
    required: true
    since: v2
  schema_ref:
    type: string
    required: true
    since: v2
  defaults:
    type: mapping
    required: false
    since: v2
  harness:
    type: mapping
    required: true
    since: v2
  harness.type:
    type: string
    required: true
    since: v2
  harness.profile:
    type: string
    required: true
    since: v2
  harness.config:
    type: mapping
    required: false
    since: v2
  harness.docs:
    type: list
    required: false
    since: v2
  harness.docs[].id:
    type: string
    required: false
    since: v2
  harness.docs[].summary:
    type: string
    required: true
    since: v2
  harness.docs[].audience:
    type: string
    required: true
    since: v2
  harness.docs[].status:
    type: string
    required: true
    since: v2
    enum: &id001
    - draft
    - active
    - deprecated
    - retired
  harness.docs[].description:
    type: string
    required: false
    since: v2
  harness.docs[].type:
    type: string
    required: false
    since: v2
    enum: &id002
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  harness.docs[].since:
    type: string
    required: false
    since: v2
  harness.docs[].updated_at:
    type: string
    required: false
    since: v2
  harness.docs[].tags:
    type: list
    required: false
    since: v2
  harness.docs[].owners:
    type: list
    required: false
    since: v2
  harness.docs[].owners[].id:
    type: string
    required: false
    since: v2
  harness.docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum: &id003
    - owner
    - reviewer
    - approver
  harness.docs[].links:
    type: list
    required: false
    since: v2
  harness.docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum: &id004
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  harness.docs[].links[].ref:
    type: string
    required: true
    since: v2
  harness.docs[].links[].title:
    type: string
    required: false
    since: v2
  harness.docs[].examples:
    type: list
    required: false
    since: v2
  harness.docs[].examples[].title:
    type: string
    required: true
    since: v2
  harness.docs[].examples[].ref:
    type: string
    required: true
    since: v2
  services:
    type: mapping
    required: false
    since: v2
  services.defaults:
    type: mapping
    required: false
    since: v2
  services.defaults.type:
    type: string
    required: false
    since: v2
  services.defaults.io:
    type: string
    required: false
    since: v2
    enum:
    - input
    - output
    - io
    description: Defaults to io when omitted.
  services.defaults.profile:
    type: string
    required: false
    since: v2
  services.defaults.config:
    type: mapping
    required: false
    since: v2
  services.entries:
    type: list
    required: true
    since: v2
  services.entries[].id:
    type: string
    required: true
    since: v2
  services.entries[].type:
    type: string
    required: false
    since: v2
  services.entries[].io:
    type: string
    required: false
    since: v2
    enum:
    - input
    - output
    - io
  services.entries[].profile:
    type: string
    required: false
    since: v2
  services.entries[].config:
    type: mapping
    required: false
    since: v2
  services.entries[].imports:
    type: list
    required: false
    since: v2
    description: Service import declarations. Accepts either canonical list[mapping]
      rows (`names`, optional `as`) or compact list[string] alias. Mixed list
      item kinds in one `imports` list are invalid.
  services.entries[].imports[].names:
    type: list
    required: true
    since: v2
    description: Declared service import names; each name must be unique per
      service entry after alias resolution and available for resolved
      type+profile in service catalog.
  services.entries[].imports[].as:
    type: mapping
    required: false
    since: v2
  services.entries[].docs:
    type: list
    required: false
    since: v2
  services.entries[].docs[].id:
    type: string
    required: false
    since: v2
  services.entries[].docs[].summary:
    type: string
    required: true
    since: v2
  services.entries[].docs[].audience:
    type: string
    required: true
    since: v2
  services.entries[].docs[].status:
    type: string
    required: true
    since: v2
    enum:
    - draft
    - active
    - deprecated
    - retired
  services.entries[].docs[].description:
    type: string
    required: false
    since: v2
  services.entries[].docs[].type:
    type: string
    required: false
    since: v2
    enum:
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  services.entries[].docs[].since:
    type: string
    required: false
    since: v2
  services.entries[].docs[].updated_at:
    type: string
    required: false
    since: v2
  services.entries[].docs[].tags:
    type: list
    required: false
    since: v2
  services.entries[].docs[].owners:
    type: list
    required: false
    since: v2
  services.entries[].docs[].owners[].id:
    type: string
    required: false
    since: v2
  services.entries[].docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum:
    - owner
    - reviewer
    - approver
  services.entries[].docs[].links:
    type: list
    required: false
    since: v2
  services.entries[].docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum:
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  services.entries[].docs[].links[].ref:
    type: string
    required: true
    since: v2
  services.entries[].docs[].links[].title:
    type: string
    required: false
    since: v2
  services.entries[].docs[].examples:
    type: list
    required: false
    since: v2
  services.entries[].docs[].examples[].title:
    type: string
    required: true
    since: v2
  services.entries[].docs[].examples[].ref:
    type: string
    required: true
    since: v2
  bindings:
    type: list
    required: false
    since: v2
  bindings[].id:
    type: string
    required: true
    since: v2
  bindings[].contract:
    type: string
    required: true
    since: v2
  bindings[].service:
    type: string
    required: true
    since: v2
  bindings[].import:
    type: string
    required: true
    since: v2
  bindings[].inputs:
    type: list
    required: false
    since: v2
  bindings[].inputs[].from:
    type: string
    required: true
    since: v2
  bindings[].inputs[].as:
    type: string
    required: true
    since: v2
  bindings[].outputs:
    type: list
    required: false
    since: v2
  bindings[].outputs[].to:
    type: string
    required: true
    since: v2
  bindings[].outputs[].as:
    type: string
    required: false
    since: v2
  bindings[].outputs[].path:
    type: string
    required: false
    since: v2
  bindings[].predicates:
    type: list
    required: false
    since: v2
  bindings[].mode:
    type: string
    required: false
    since: v2
    enum:
    - merge
    - override
  artifact:
    type: mapping
    required: false
    since: v2
  artifact.imports:
    type: list
    required: false
    since: v2
  artifact.imports[].id:
    type: string
    required: true
    since: v2
  artifact.imports[].ref:
    type: string
    required: true
    since: v2
    description: Supports moustache templates resolved from suite context.
  artifact.imports[].type:
    type: string
    required: false
    since: v2
  artifact.imports[].inputs:
    type: mapping
    required: false
    since: v2
  artifact.imports[].options:
    type: mapping
    required: false
    since: v2
  artifact.imports[].docs:
    type: list
    required: false
    since: v2
  artifact.imports[].docs[].id:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].summary:
    type: string
    required: true
    since: v2
  artifact.imports[].docs[].audience:
    type: string
    required: true
    since: v2
  artifact.imports[].docs[].status:
    type: string
    required: true
    since: v2
    enum:
    - draft
    - active
    - deprecated
    - retired
  artifact.imports[].docs[].description:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].type:
    type: string
    required: false
    since: v2
    enum:
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  artifact.imports[].docs[].since:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].updated_at:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].tags:
    type: list
    required: false
    since: v2
  artifact.imports[].docs[].owners:
    type: list
    required: false
    since: v2
  artifact.imports[].docs[].owners[].id:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum:
    - owner
    - reviewer
    - approver
  artifact.imports[].docs[].links:
    type: list
    required: false
    since: v2
  artifact.imports[].docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum:
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  artifact.imports[].docs[].links[].ref:
    type: string
    required: true
    since: v2
  artifact.imports[].docs[].links[].title:
    type: string
    required: false
    since: v2
  artifact.imports[].docs[].examples:
    type: list
    required: false
    since: v2
  artifact.imports[].docs[].examples[].title:
    type: string
    required: true
    since: v2
  artifact.imports[].docs[].examples[].ref:
    type: string
    required: true
    since: v2
  artifact.exports:
    type: list
    required: false
    since: v2
  artifact.exports[].id:
    type: string
    required: true
    since: v2
  artifact.exports[].ref:
    type: string
    required: true
    since: v2
    description: Supports moustache templates resolved from suite context.
  artifact.exports[].type:
    type: string
    required: false
    since: v2
  artifact.exports[].options:
    type: mapping
    required: false
    since: v2
  artifact.exports[].docs:
    type: list
    required: false
    since: v2
  artifact.exports[].docs[].id:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].summary:
    type: string
    required: true
    since: v2
  artifact.exports[].docs[].audience:
    type: string
    required: true
    since: v2
  artifact.exports[].docs[].status:
    type: string
    required: true
    since: v2
    enum:
    - draft
    - active
    - deprecated
    - retired
  artifact.exports[].docs[].description:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].type:
    type: string
    required: false
    since: v2
    enum:
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  artifact.exports[].docs[].since:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].updated_at:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].tags:
    type: list
    required: false
    since: v2
  artifact.exports[].docs[].owners:
    type: list
    required: false
    since: v2
  artifact.exports[].docs[].owners[].id:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum:
    - owner
    - reviewer
    - approver
  artifact.exports[].docs[].links:
    type: list
    required: false
    since: v2
  artifact.exports[].docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum:
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  artifact.exports[].docs[].links[].ref:
    type: string
    required: true
    since: v2
  artifact.exports[].docs[].links[].title:
    type: string
    required: false
    since: v2
  artifact.exports[].docs[].examples:
    type: list
    required: false
    since: v2
  artifact.exports[].docs[].examples[].title:
    type: string
    required: true
    since: v2
  artifact.exports[].docs[].examples[].ref:
    type: string
    required: true
    since: v2
  exports:
    type: list
    required: false
    since: v2
  exports[].as:
    type: string
    required: true
    since: v2
    description: Required function export symbol name.
  exports[].from:
    type: string
    required: true
    since: v2
    enum:
    - assert.function
    description: Required function export source.
  exports[].path:
    type: string
    required: true
    since: v2
    description: Required function export path.
  exports[].params:
    type: list
    required: false
    since: v2
    description: Optional ordered function parameter names.
  exports[].required:
    type: bool
    required: false
    since: v2
    description: Optional function export requirement flag.
  exports[].docs:
    type: list
    required: false
    since: v2
  exports[].docs[].id:
    type: string
    required: false
    since: v2
  exports[].docs[].summary:
    type: string
    required: true
    since: v2
  exports[].docs[].audience:
    type: string
    required: true
    since: v2
  exports[].docs[].status:
    type: string
    required: true
    since: v2
    enum:
    - draft
    - active
    - deprecated
    - retired
  exports[].docs[].description:
    type: string
    required: false
    since: v2
  exports[].docs[].type:
    type: string
    required: false
    since: v2
    enum:
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  exports[].docs[].since:
    type: string
    required: false
    since: v2
  exports[].docs[].updated_at:
    type: string
    required: false
    since: v2
  exports[].docs[].tags:
    type: list
    required: false
    since: v2
  exports[].docs[].owners:
    type: list
    required: false
    since: v2
  exports[].docs[].owners[].id:
    type: string
    required: false
    since: v2
  exports[].docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum:
    - owner
    - reviewer
    - approver
  exports[].docs[].links:
    type: list
    required: false
    since: v2
  exports[].docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum:
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  exports[].docs[].links[].ref:
    type: string
    required: true
    since: v2
  exports[].docs[].links[].title:
    type: string
    required: false
    since: v2
  exports[].docs[].examples:
    type: list
    required: false
    since: v2
  exports[].docs[].examples[].title:
    type: string
    required: true
    since: v2
  exports[].docs[].examples[].ref:
    type: string
    required: true
    since: v2
  contracts:
    type: list
    required: true
    since: v2
  contracts[].id:
    type: string
    required: true
    since: v2
  title:
    type: string
    required: false
    since: v2
  purpose:
    type: string
    required: false
    since: v2
  docs:
    type: list
    required: false
    since: v2
  docs[].id:
    type: string
    required: false
    since: v2
  docs[].summary:
    type: string
    required: true
    since: v2
  docs[].audience:
    type: string
    required: true
    since: v2
  docs[].status:
    type: string
    required: true
    since: v2
    enum: *id001
  docs[].description:
    type: string
    required: false
    since: v2
  docs[].type:
    type: string
    required: false
    since: v2
    enum: *id002
  docs[].since:
    type: string
    required: false
    since: v2
  docs[].updated_at:
    type: string
    required: false
    since: v2
  docs[].tags:
    type: list
    required: false
    since: v2
  docs[].owners:
    type: list
    required: false
    since: v2
  docs[].owners[].id:
    type: string
    required: false
    since: v2
  docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum: *id003
  docs[].links:
    type: list
    required: false
    since: v2
  docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum: *id004
  docs[].links[].ref:
    type: string
    required: true
    since: v2
  docs[].links[].title:
    type: string
    required: false
    since: v2
  docs[].examples:
    type: list
    required: false
    since: v2
  docs[].examples[].title:
    type: string
    required: true
    since: v2
  docs[].examples[].ref:
    type: string
    required: true
    since: v2
  domain:
    type: string
    required: false
    since: v2
  contracts[].title:
    type: string
    required: false
    since: v2
  contracts[].purpose:
    type: string
    required: false
    since: v2
  contracts[].domain:
    type: string
    required: false
    since: v2
  contracts[].docs:
    type: list
    required: false
    since: v2
  contracts[].docs[].id:
    type: string
    required: false
    since: v2
  contracts[].docs[].summary:
    type: string
    required: true
    since: v2
  contracts[].docs[].audience:
    type: string
    required: true
    since: v2
  contracts[].docs[].status:
    type: string
    required: true
    since: v2
    enum:
    - draft
    - active
    - deprecated
    - retired
  contracts[].docs[].description:
    type: string
    required: false
    since: v2
  contracts[].docs[].type:
    type: string
    required: false
    since: v2
    enum:
    - overview
    - reference
    - howto
    - policy
    - contract
    - changelog
  contracts[].docs[].since:
    type: string
    required: false
    since: v2
  contracts[].docs[].updated_at:
    type: string
    required: false
    since: v2
  contracts[].docs[].tags:
    type: list
    required: false
    since: v2
  contracts[].docs[].owners:
    type: list
    required: false
    since: v2
  contracts[].docs[].owners[].id:
    type: string
    required: false
    since: v2
  contracts[].docs[].owners[].role:
    type: string
    required: true
    since: v2
    enum:
    - owner
    - reviewer
    - approver
  contracts[].docs[].links:
    type: list
    required: false
    since: v2
  contracts[].docs[].links[].rel:
    type: string
    required: true
    since: v2
    enum:
    - see_also
    - depends_on
    - implements
    - supersedes
    - replaced_by
  contracts[].docs[].links[].ref:
    type: string
    required: true
    since: v2
  contracts[].docs[].links[].title:
    type: string
    required: false
    since: v2
  contracts[].docs[].examples:
    type: list
    required: false
    since: v2
  contracts[].docs[].examples[].title:
    type: string
    required: true
    since: v2
  contracts[].docs[].examples[].ref:
    type: string
    required: true
    since: v2
  contracts[].when:
    type: mapping
    required: false
    since: v2
  contracts[].when.required:
    type: list
    required: false
    since: v2
  contracts[].when.optional:
    type: list
    required: false
    since: v2
  contracts[].when.fail:
    type: list
    required: false
    since: v2
  contracts[].when.complete:
    type: list
    required: false
    since: v2
  contracts[].clauses:
    type: mapping
    required: true
    since: v2
  contracts[].expect:
    type: mapping
    required: false
    since: v2
  contracts[].expect.portable:
    type: mapping
    required: false
    since: v2
  contracts[].expect.portable.status:
    type: string
    required: false
    since: v2
  contracts[].expect.portable.category:
    type: string
    required: false
    since: v2
  contracts[].expect.portable.message_tokens:
    type: list
    required: false
    since: v2
  contracts[].expect.overrides:
    type: list
    required: false
    since: v2
  contracts[].expect.overrides[].runner:
    type: string
    required: true
    since: v2
  contracts[].expect.overrides[].status:
    type: string
    required: false
    since: v2
  contracts[].expect.overrides[].category:
    type: string
    required: false
    since: v2
  contracts[].expect.overrides[].message_tokens:
    type: list
    required: false
    since: v2
  contracts[].requires:
    type: mapping
    required: false
    since: v2
