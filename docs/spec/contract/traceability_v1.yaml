version: 1
title: Spec Runner Contract Traceability
links:
- rule_id: CLI_RUN_ENTRYPOINT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_ENTRYPOINT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  unit_test_refs:
  - tests/test_harness_cli_run_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/harnesses/cli_run.py
  notes: Explicit entrypoint is required for all cli.run cases.
- rule_id: CLI_RUN_SAFE_MODE_RESTRICTS_HOOKS
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_SAFE_MODE_RESTRICTS_HOOKS
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/harnesses/cli_run.py
  notes: Python safe mode disables hooks when enabled.
- rule_id: CLI_RUN_ENV_ALLOWLIST_CONTROL
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_ENV_ALLOWLIST_CONTROL
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_php_spec_runner_unit.py
  implementation_refs:
  - scripts/php/spec_runner.php
  notes: PHP runner supports allowlisting ambient env for cli.run subprocesses.
- rule_id: CLI_RUN_CONFORMANCE_EXPLICIT_ENTRYPOINT
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_CONFORMANCE_EXPLICIT_ENTRYPOINT
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-CLI-002
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs: []
  notes: Conformance seed fixtures include explicit harness.entrypoint values.
- rule_id: CLI_RUN_CONFORMANCE_NO_ENV_DEPENDENCY
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_CONFORMANCE_NO_ENV_DEPENDENCY
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-CLI-002
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs: []
  notes: Conformance fixtures are explicit and do not depend on ambient entrypoint values.
- rule_id: ASSERT_HEALTH_MODE_VALID_VALUES
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_MODE_VALID_VALUES
  contract_refs:
  - docs/spec/contract/02_case_shape.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-003
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  notes: Value validation and mode parsing are enforced in assertion_health.
- rule_id: ASSERT_HEALTH_GLOBAL_AND_PER_CASE_POLICY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_GLOBAL_AND_PER_CASE_POLICY
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/02_case_shape.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-001
  - SRCONF-AH-002
  - SRCONF-AH-004
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_harness_cli_run_unit.py
  - tests/test_harness_text_file_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/text_file.py
  notes: Global env policy plus per-case override implemented for Python harnesses.
- rule_id: ASSERT_HEALTH_REDUNDANT_BRANCH_DIAGNOSTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_REDUNDANT_BRANCH_DIAGNOSTIC
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-005
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/cli_run.py
  notes: Python emits AH004 for redundant sibling branches.
- rule_id: ASSERT_HEALTH_NON_PORTABLE_REGEX_DIAGNOSTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_NON_PORTABLE_REGEX_DIAGNOSTIC
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-006
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  notes: Python emits AH005 for non-portable regex constructs.
- rule_id: SPEC_LANG_EVALUATE_LIST_SHAPE
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_EVALUATE_LIST_SHAPE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-005
  - SRCONF-EXPR-006
  unit_test_refs:
  - tests/test_assertions_unit.py
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/assertions.py
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Evaluate leaves accept mapping-AST expression nodes and reject malformed/legacy forms.
- rule_id: SPEC_LANG_PREFERRED_AUTHORING
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PREFERRED_AUTHORING
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/conformance_spec_lang_preferred.spec.md
  notes: Governance enforces evaluate-only assertion authoring in conformance and governance case surfaces.
- rule_id: SPEC_LANG_PURE_EVALUATOR
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PURE_EVALUATOR
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-002
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Evaluator core is deterministic and pure for supported forms.
- rule_id: SPEC_LANG_PROPER_TCO_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PROPER_TCO_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-003
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Tail-position call is implemented via iterative trampoline loops.
- rule_id: SPEC_LANG_EVAL_BUDGETS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_EVAL_BUDGETS_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-007
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Steps/nodes/literal/timeout budgets are enforced with deterministic failure reasons.
- rule_id: SPEC_LANG_ERROR_CLASSIFICATION
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ERROR_CLASSIFICATION
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/05_errors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-004
  - SRCONF-EXPR-005
  - SRCONF-EXPR-006
  - SRCONF-EXPR-007
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_conformance_parity_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - spec_runner/conformance.py
  - scripts/php/conformance_runner.php
  notes: Conformance maps evaluate failures to schema/assertion/runtime categories.
- rule_id: SPEC_LANG_CURRY_ALL_BUILTINS
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_CURRY_ALL_BUILTINS
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-013
  - SRCONF-EXPR-014
  - SRCONF-EXPR-016
  - SRCONF-EXPR-017
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Builtins support deterministic currying and over-application diagnostics.
- rule_id: SPEC_LANG_SET_ALGEBRA_PARITY
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_SET_ALGEBRA_PARITY
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-009
  - SRCONF-EXPR-010
  - SRCONF-EXPR-011
  - SRCONF-EXPR-018
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_conformance_parity_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Set algebra semantics are parity-tested and deterministic.
- rule_id: SPEC_LANG_DEEP_EQUALITY_DETERMINISTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_DEEP_EQUALITY_DETERMINISTIC
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-009
  - SRCONF-EXPR-012
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  notes: Deep structural equality drives set/membership deterministically.
- rule_id: SPEC_LANG_COLLECTION_FORMS_CONTRACTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_COLLECTION_FORMS_CONTRACTED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-013
  - SRCONF-EXPR-014
  - SRCONF-EXPR-015
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  notes: Collection transforms remain contracted and conformance-covered.
- rule_id: SPEC_LANG_LIBRARY_REUSE_MODEL
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_LIBRARY_REUSE_MODEL
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - spec_runner/spec_lang.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/api_http.py
  notes: Library symbol loading and evaluation wiring are deterministic and covered by unit tests.
- rule_id: GOVERNANCE_SUBJECT_MODEL_SPEC_LANG_DECISIONS
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_SUBJECT_MODEL_SPEC_LANG_DECISIONS
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Initial governance checks use subject extraction with spec-lang decision expressions.
- rule_id: DOC_NORMATIVE_PAGE_TRACEABILITY
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_NORMATIVE_PAGE_TRACEABILITY
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/versioning.md
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/02_case_shape.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/05_errors.md
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/contract/08_v1_scope.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance enforces traceability coverage across normative contract pages.
- rule_id: DOC_REGEX_PROFILE_LINKAGE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_REGEX_PROFILE_LINKAGE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance checks profile references across assertion, schema, and policy docs.
- rule_id: DOC_ASSERTION_OPERATOR_DOC_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_ASSERTION_OPERATOR_DOC_SYNC
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance checks synchronized core operator tokens between docs.
- rule_id: CONFORMANCE_EXPECT_OVERLAY_RESOLUTION
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_EXPECT_OVERLAY_RESOLUTION
  contract_refs:
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Conformance expectations resolve portable baseline with implementation overlays.
- rule_id: CONFORMANCE_CASE_STYLE_GUARD
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_CASE_STYLE_GUARD
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/style.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance enforces conformance case doc readability/style constraints.
- rule_id: CONFORMANCE_REQUIRES_CAPABILITIES_POLICY
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_REQUIRES_CAPABILITIES_POLICY
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/report_format.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_validate_conformance_report_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Conformance runner enforces requires.capabilities with skip/fail policy.
- rule_id: PORTABLE_SPEC_CANONICAL_SINGLE_SET
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_CANONICAL_SINGLE_SET
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/conformance/README.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  - spec_runner/conformance.py
  notes: Portable behavior source is the canonical conformance case set.
- rule_id: PORTABLE_SPEC_EXPECT_PORTABLE_IMPL_OVERLAY
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_EXPECT_PORTABLE_IMPL_OVERLAY
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Expectations resolve from portable baseline with optional runtime overlays.
- rule_id: PORTABLE_SPEC_DETERMINISM_BY_CONSTRUCTION
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_DETERMINISM_BY_CONSTRUCTION
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-AH-004
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Portable cases should avoid ambient dependencies and express variability explicitly.
- rule_id: CONFORMANCE_NO_AMBIENT_ASSUMPTIONS_GUARD
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_NO_AMBIENT_ASSUMPTIONS_GUARD
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/conformance_no_ambient_assumptions.spec.md
  notes: Governance enforces ambient env/time/random token bans in portable conformance case content.
- rule_id: CONFORMANCE_PURPOSE_QUALITY_GATE
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_PURPOSE_QUALITY_GATE
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/purpose_lint_v1.yaml
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_conformance_purpose_report_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/conformance_purpose.py
  notes: Governance enforces conformance purpose warning budget and policy integrity.
- rule_id: SPEC_PORTABILITY_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/spec_portability_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_spec_portability_report_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/spec_portability_report.py
  - scripts/run_governance_specs.py
  notes: Portability metric report generation and governance wiring are covered by unit and script tests.
- rule_id: SPEC_PORTABILITY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/spec_portability_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_portability_baseline.json
  notes: Governance enforces monotonic non-regression for configured spec-lang self-containment metrics.
- rule_id: SPEC_LANG_ADOPTION_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ADOPTION_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/spec_lang_adoption_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/spec_lang_adoption_report.py
  - scripts/run_governance_specs.py
  notes: Spec-lang adoption metric report and governance wiring are covered by unit/script tests.
- rule_id: SPEC_LANG_ADOPTION_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ADOPTION_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/spec_lang_adoption_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Governance enforces non-regression on configured spec-lang adoption metrics.
- rule_id: CONFORMANCE_EVALUATE_FIRST_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_EVALUATE_FIRST_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/conformance/style.md
  - docs/spec/governance/cases/conformance_evaluate_first_ratio_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Conformance evaluate-only coverage is pinned by baseline-backed non-regression checks.
- rule_id: CONFORMANCE_SPEC_LANG_FIXTURE_LIBRARY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_SPEC_LANG_FIXTURE_LIBRARY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/conformance_spec_lang_fixture_library_usage.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-002
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/libraries/conformance/assertion_core.spec.md
  notes: Governance enforces helper-library reuse in spec_lang conformance fixtures.
- rule_id: CONFORMANCE_LIBRARY_POLICY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_LIBRARY_POLICY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/conformance_library_policy_usage_required.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Conformance-prefixed governance checks require library-backed policy calls.
- rule_id: GOVERNANCE_POLICY_LIBRARY_USAGE_NON_REGRESSION
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_LIBRARY_USAGE_NON_REGRESSION
  contract_refs:
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/governance_policy_library_usage_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Governance ratchets shared library usage for policy expressions and fails regressions.
- rule_id: GOVERNANCE_POLICY_LIBRARY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_LIBRARY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/governance_policy_library_usage_required.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance requires library-backed policy wiring and policy_evaluate calls to exported library symbols.
- rule_id: RUNNER_INDEPENDENCE_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNNER_INDEPENDENCE_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/runner_independence_metric.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/runner_independence_report.py
  - scripts/run_governance_specs.py
  notes: Runner-independence metric report generation and governance wiring are covered by tests.
- rule_id: RUNNER_INDEPENDENCE_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNNER_INDEPENDENCE_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/runner_independence_non_regression.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/runner_independence_baseline.json
  notes: Governance enforces non-regression on configured runner-independence metrics.
- rule_id: RUNTIME_PYTHON_DEPENDENCY_EVIDENCE_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_DEPENDENCY_EVIDENCE_REPORTED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/runtime_python_dependency_metric.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/python_dependency_report.py
  - scripts/run_governance_specs.py
  notes: Python-dependency evidence report is generated and enforced through governance.
- rule_id: RUNTIME_PYTHON_DEPENDENCY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_DEPENDENCY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/runtime_python_dependency_non_regression.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/python_dependency_baseline.json
  notes: Python-dependency metrics are ratcheted with checked-in baseline values.
- rule_id: RUNTIME_NON_PYTHON_LANES_FORBID_PYTHON_EXEC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_NON_PYTHON_LANES_FORBID_PYTHON_EXEC
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/governance/cases/runtime_non_python_lane_no_python_exec.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  notes: Non-python lane token checks are enforced using python-dependency report inputs.
- rule_id: RUNTIME_RUST_ADAPTER_TRANSITIVE_NO_PYTHON
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_TRANSITIVE_NO_PYTHON
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/governance/cases/runtime_rust_adapter_transitive_no_python.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/rust/runner_adapter.sh
  notes: Rust adapter shell boundary avoids direct transitive python delegation tokens.
- rule_id: RUNTIME_DEFAULT_GATE_RUST_ADAPTER_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_DEFAULT_GATE_RUST_ADAPTER_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  implementation_refs:
  - scripts/ci_gate.sh
  - scripts/core_gate.sh
  - scripts/docs_doctor.sh
  notes: Default gate scripts now set rust adapter as default runner interface boundary.
- rule_id: RUNTIME_PYTHON_USAGE_SCOPED_TO_PYTHON_RUNNER
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_USAGE_SCOPED_TO_PYTHON_RUNNER
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - docs/spec/governance/cases/runtime_python_dependency_metric.spec.md
  - docs/spec/governance/cases/runtime_non_python_lane_no_python_exec.spec.md
  notes: Python usage is scoped to explicit python-runner surfaces via python-dependency metric and lane checks.
- rule_id: DOCS_OPERABILITY_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_OPERABILITY_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/governance/cases/docs_operability_metric.spec.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/docs_operability_report.py
  - scripts/run_governance_specs.py
  notes: Docs-operability metric report generation and governance wiring are covered by tests.
- rule_id: DOCS_OPERABILITY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_OPERABILITY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/governance/cases/docs_operability_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/docs_operability_baseline.json
  notes: Governance enforces non-regression on configured docs-operability metrics.
- rule_id: CONTRACT_ASSERTIONS_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_ASSERTIONS_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/governance/cases/contract_assertions_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/contract_assertions_report.py
  - scripts/run_governance_specs.py
  notes: Contract-assertions metric report generation and governance wiring are covered by tests.
- rule_id: CONTRACT_ASSERTIONS_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_ASSERTIONS_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/governance/cases/contract_assertions_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/contract_assertions_baseline.json
  notes: Governance enforces non-regression on configured contract-assertions metrics.
- rule_id: SPEC_PORTABILITY_THRESHOLD_ENFORCED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_THRESHOLD_ENFORCED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/spec_portability_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/run_governance_specs.py
  notes: Threshold support is present in config/report model and can be enforced via governance config when enabled.
- rule_id: DOCS_REF_SURFACE_COMPLETE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REF_SURFACE_COMPLETE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_index.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Governance enforces required reference surface file presence.
- rule_id: DOCS_REFERENCE_INDEX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REFERENCE_INDEX_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_index.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Reference index entries must match actual chapter files and order.
- rule_id: DOCS_REQUIRED_SECTIONS_PRESENT
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REQUIRED_SECTIONS_PRESENT
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/02_core_model.md
  - docs/book/03_assertions.md
  - docs/book/04_spec_lang_reference.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Required section tokens in reference chapters are hard-gated.
- rule_id: DOCS_EXAMPLES_RUNNABLE_OR_EXPLICITLY_OPTED_OUT
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_EXAMPLES_RUNNABLE_OR_EXPLICITLY_OPTED_OUT
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Invalid doc examples fail unless an explicit opt-out marker with reason is present.
- rule_id: DOCS_CLI_FLAGS_DOCUMENTED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_CLI_FLAGS_DOCUMENTED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/development.md
  - docs/spec/impl/python.md
  - docs/spec/impl/php.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Public runner flags extracted from script parsers must be documented.
- rule_id: DOCS_CONTRACT_SCHEMA_BOOK_TOKEN_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_CONTRACT_SCHEMA_BOOK_TOKEN_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/03_assertions.md
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Core assertion token vocabulary remains synchronized across book/contract/schema docs.
- rule_id: DOCS_META_SCHEMA_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_META_SCHEMA_VALID
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_meta_schema_valid.spec.md
  notes: Reference chapter doc-meta blocks are schema-validated.
- rule_id: DOCS_REFERENCE_MANIFEST_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REFERENCE_MANIFEST_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_manifest.yaml
  schema_refs:
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_build_reference_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_build_reference.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_reference_manifest_sync.spec.md
  notes: Reference index generation/sync is enforced against manifest source data.
- rule_id: DOCS_TOKEN_OWNERSHIP_UNIQUE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_TOKEN_OWNERSHIP_UNIQUE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_token_ownership_unique.spec.md
  notes: Canonical doc tokens must have exactly one owner page.
- rule_id: DOCS_TOKEN_DEPENDENCY_RESOLVED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_TOKEN_DEPENDENCY_RESOLVED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_token_dependency_resolved.spec.md
  notes: Requires-token dependencies must resolve to owner docs and owner content.
- rule_id: DOCS_INSTRUCTIONS_REQUIRED_SECTIONS
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_INSTRUCTIONS_REQUIRED_SECTIONS
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_instructions_complete.spec.md
  notes: Instruction docs must retain required operational sections.
- rule_id: DOCS_COMMAND_EXAMPLES_VERIFIED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_COMMAND_EXAMPLES_VERIFIED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_command_examples_verified.spec.md
  notes: Docs examples are validated or explicitly opted out with reason.
- rule_id: DOCS_EXAMPLE_IDS_UNIQUE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_EXAMPLE_IDS_UNIQUE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_lint.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_example_id_uniqueness.spec.md
  notes: Example identifiers remain unique across canonical docs metadata.
- rule_id: DOCS_GENERATED_ARTIFACTS_FRESH
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATED_ARTIFACTS_FRESH
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_manifest.yaml
  schema_refs:
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_build_reference_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_build_reference.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_generated_files_clean.spec.md
  notes: Generated docs artifacts must stay synchronized with manifest and metadata.
- rule_id: DOCS_MAKE_COMMANDS_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_MAKE_COMMANDS_SYNC
  contract_refs:
  - README.md
  - docs/development.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Governance enforces canonical make command entrypoints in core contributor docs.
- rule_id: DOCS_ADOPTION_PROFILES_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_ADOPTION_PROFILES_SYNC
  contract_refs:
  - docs/spec/contract/11_adoption_profiles.md
  - README.md
  - docs/development.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_adoption_profiles_sync.spec.md
  - spec_runner/contract_governance.py
  notes: Governance enforces synchronized Core/Full adoption profile docs and commands.
- rule_id: DOCS_RELEASE_CONTRACT_AUTOMATION_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_RELEASE_CONTRACT_AUTOMATION_ONLY
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/release_checklist.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_release_contract_automation_policy.spec.md
  - spec_runner/contract_governance.py
  notes: Release guidance is automation-first and forbids manual sequential checklist choreography.
- rule_id: RUNTIME_RUNNER_INTERFACE_GATE_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_INTERFACE_GATE_SYNC
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_runner_interface_gate_sync.spec.md
  - scripts/ci_gate.sh
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  notes: Governance enforces runner-interface boundary usage in gate shell scripts.
- rule_id: RUNTIME_SCOPE_BOUNDED_FOR_V1
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_SCOPE_BOUNDED_FOR_V1
  contract_refs:
  - docs/spec/contract/08_v1_scope.md
  - docs/spec/contract/13_runtime_scope.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_scope_sync.spec.md
  notes: Governance keeps v1 runtime support scope explicitly bounded to declared targets.
- rule_id: RUNTIME_ASSERTIONS_VIA_SPEC_LANG
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_ASSERTIONS_VIA_SPEC_LANG
  contract_refs:
  - docs/spec/contract/09_internal_representation.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/php/conformance_runner.php
  - scripts/php/spec_runner.php
  - spec_runner/assertions.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/api_http.py
  notes: Governance enforces spec-lang-backed assertion execution paths for runtime scanners/runners.
- rule_id: CONTRACT_MUST_RULE_COVERAGE_COMPLETE
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_MUST_RULE_COVERAGE_COMPLETE
  contract_refs:
  - docs/spec/contract/policy_v1.yaml
  - docs/spec/contract/traceability_v1.yaml
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  - scripts/run_governance_specs.py
  notes: Governance enforces complete coverage for active MUST contract rules.
- rule_id: SPEC_LANG_PURE_NO_EFFECT_BUILTINS
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PURE_NO_EFFECT_BUILTINS
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  - docs/spec/governance/cases/runtime_spec_lang_pure_no_effect_builtins.spec.md
  notes: Spec-lang core forbids side-effect builtins; adapters provide normalized effect results.
- rule_id: RUNTIME_DECISIONS_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_DECISIONS_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - spec_runner/harnesses/cli_run.py
  notes: Runtime assertions compile external operators to spec-lang and evaluate through one engine.
- rule_id: ASSERT_UNIVERSAL_CORE_EVALUATE_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_UNIVERSAL_CORE_EVALUATE_ONLY
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/assert_universal_core_sync.spec.md
  notes: Universal assertion core is evaluate; sugar operators compile into evaluate-equivalent expressions.
- rule_id: ASSERT_SUGAR_OPERATORS_COMPILE_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_SUGAR_OPERATORS_COMPILE_ONLY
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_assertions_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/assert_sugar_compile_only_sync.spec.md
  notes: Sugar ops remain authoring convenience only; runtime uses compiled predicates.
- rule_id: ASSERT_TARGET_CONTRACT_SUBJECT_DRIVEN
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_TARGET_CONTRACT_SUBJECT_DRIVEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/types/text_file.md
  - docs/spec/contract/types/cli_run.md
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/assert_type_contract_subject_semantics_sync.spec.md
  notes: Type contracts define subject semantics and availability responsibilities.
- rule_id: ASSERT_COMPILER_SCHEMA_MATRIX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_COMPILER_SCHEMA_MATRIX_SYNC
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/assert_compiler_schema_matrix_sync.spec.md
  notes: Governance enforces compiler/schema/contract alignment for universal evaluate model.
- rule_id: GOVERNANCE_DECISIONS_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_DECISIONS_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/conformance_spec_lang_preferred.spec.md
  notes: Governance decision expressions are configured as spec-lang data in harness config.
- rule_id: ORCHESTRATION_POLICY_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_POLICY_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ci_gate_summary_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - docs/spec/governance/cases/runtime_orchestration_policy_via_spec_lang.spec.md
  notes: CI gate summary loads a spec-lang decision expression from governance policy case.
- rule_id: CURRENT_SPEC_POLICY_KEY_NAMES
  policy_ref: docs/spec/contract/policy_v1.yaml#CURRENT_SPEC_POLICY_KEY_NAMES
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_current_spec_policy_key_names.spec.md
  notes: Governance checks align current spec cases to the policy_evaluate key.
- rule_id: RUNTIME_RUNNER_INTERFACE_SUBCOMMANDS_DECLARED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_INTERFACE_SUBCOMMANDS_DECLARED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/rust/runner_adapter.sh
  - docs/spec/governance/cases/runtime_runner_interface_subcommands.spec.md
  notes: Governance verifies Rust adapter case labels cover required runner-interface subcommands.
- rule_id: RUNTIME_RUNNER_INTERFACE_CI_LANE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_INTERFACE_CI_LANE_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - .github/workflows/ci.yml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_runner_interface_ci_lane.spec.md
  notes: Governance verifies CI includes a core gate lane with SPEC_RUNNER_BIN set to rust adapter.
- rule_id: RUNTIME_RUST_ADAPTER_NO_DELEGATION
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_NO_DELEGATION
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_adapter_no_delegate.spec.md
  notes: Governance prevents regression back to shell adapter delegation in the Rust lane.
- rule_id: RUST_PRIMARY_GATE_PATH_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_GATE_PATH_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - .github/workflows/ci.yml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_gate_path.spec.md
  notes: Rust-primary CI lane requirement is enforced through runner-interface CI lane checks.
- rule_id: RUST_PRIMARY_NO_PYTHON_GATE_DEPENDENCY
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_NO_PYTHON_GATE_DEPENDENCY
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate.sh
  - scripts/core_gate.sh
  - scripts/docs_doctor.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_no_python_dependency.spec.md
  notes: Gate orchestration remains runner-interface based without direct Python command coupling.
- rule_id: RUST_PRIMARY_INTERFACE_STABILITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_INTERFACE_STABILITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_interface_stability.spec.md
  notes: Rust adapter preserves required runner-interface command surface.
- rule_id: RUST_PRIMARY_SHARED_CAPABILITY_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_SHARED_CAPABILITY_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/06_conformance.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_parity_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/core_gate.sh
  - scripts/compare_conformance_parity.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_shared_capability_parity.spec.md
  notes: Rust-primary-compatible gate flow retains shared-capability parity step.
- rule_id: RUST_PRIMARY_ADAPTER_EXEC_SMOKE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_ADAPTER_EXEC_SMOKE_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_adapter_exec_smoke.spec.md
  notes: Rust-primary governance includes an executable smoke check for adapter command behavior.
- rule_id: RUST_PRIMARY_SUBCOMMAND_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_SUBCOMMAND_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/runtime_rust_primary_subcommand_parity.spec.md
  notes: Governance enforces parity between shell adapter and Rust CLI subcommand surfaces.
- rule_id: RUST_PRIMARY_DOCS_ADOPTION_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_DOCS_ADOPTION_SYNC
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/11_adoption_profiles.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - README.md
  - docs/development.md
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/docs_adoption_profiles_sync.spec.md
  notes: Adoption profile docs remain synchronized during Rust-primary transition.
- rule_id: OBJECTIVE_METRIC_MANIFEST_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_METRIC_MANIFEST_VALID
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_manifest.yaml
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/objective_scorecard_metric.spec.md
  notes: Objective manifest remains schema-valid and includes required objective IDs.
- rule_id: OBJECTIVE_SCORECARD_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_SCORECARD_REPORTED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_objective_scorecard_report_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/objective_scorecard_report.py
  - spec_runner/quality_metrics.py
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  - docs/spec/governance/cases/objective_scorecard_metric.spec.md
  notes: Objective scorecard is generated as JSON/Markdown artifact.
- rule_id: OBJECTIVE_SCORECARD_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_SCORECARD_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_scorecard_baseline.json
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/objective_scorecard_non_regression.spec.md
  notes: Objective scorecard summary values are ratchet-gated by baseline.
- rule_id: OBJECTIVE_TRIPWIRES_ENFORCED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_TRIPWIRES_ENFORCED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_manifest.yaml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/objective_tripwires_clean.spec.md
  notes: Tripwire check IDs in objective manifest must map to passing governance checks.
- rule_id: OBJECTIVE_COURSE_CORRECTION_POLICY_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_COURSE_CORRECTION_POLICY_DEFINED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/baseline_update_notes.yaml
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/objective_scorecard_non_regression.spec.md
  notes: Baseline update metadata notes are hash-pinned and required by governance.
- rule_id: GOVERNANCE_POLICY_EVALUATE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_EVALUATE_REQUIRED
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/governance_engine.py
  notes: Governance decision checks require policy_evaluate and central policy evaluation.
- rule_id: SPEC_LANG_LIBRARY_INCLUDE_FORMAT_SCOPE
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_LIBRARY_INCLUDE_FORMAT_SCOPE
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_codecs_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - spec_runner/codecs.py
  notes: Library include formats allow md/yaml while executable case discovery stays markdown-default unless explicitly enabled.
- rule_id: NAMING_FILENAME_STRICT_SEPARATORS
  policy_ref: docs/spec/contract/policy_v1.yaml#NAMING_FILENAME_STRICT_SEPARATORS
  contract_refs:
  - AGENTS.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/naming_filename_policy.spec.md
  notes: Filename stems are governance-checked for lowercase + underscore word separators + hyphen section separators.
- rule_id: GOVERNANCE_EXTRACTOR_ONLY_NO_VERDICT_BRANCHING
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_EXTRACTOR_ONLY_NO_VERDICT_BRANCHING
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/governance_engine.py
  notes: Per-check policy verdict branching is replaced by extractor output + central policy engine.
- rule_id: GOVERNANCE_STRUCTURED_ASSERTIONS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_STRUCTURED_ASSERTIONS_REQUIRED
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/governance_structured_assertions_required.spec.md
  notes: Governance cases use structured result targets for assertion truth instead of PASS text coupling.
- rule_id: RUNTIME_RUST_ADAPTER_NO_PYTHON_EXEC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_NO_PYTHON_EXEC
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_rust_runner_interface_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  notes: Rust runner interface source must avoid direct Python execution token coupling.
- rule_id: NORMALIZATION_PROFILE_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_PROFILE_DEFINED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/normalization_profile_sync.spec.md
  notes: Normalization profile structure is governance-enforced.
- rule_id: NORMALIZATION_CHECK_GATE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_CHECK_GATE_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ci_gate_summary_script_unit.py
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  - Makefile
  notes: Normalize check is included in smoke/full gate command paths.
- rule_id: NORMALIZATION_MAPPING_AST_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_MAPPING_AST_ONLY
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids:
  - SRCONF-EXPR-005
  unit_test_refs:
  - tests/test_spec_lang_yaml_ast_unit.py
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_yaml_ast.py
  - scripts/normalize_repo.py
  - scripts/convert_spec_lang_yaml_ast.py
  - docs/spec/governance/cases/normalization_mapping_ast_only.spec.md
  notes: Mapping-AST-only syntax is enforced through compiler and normalization checks.
- rule_id: NORMALIZATION_CONTRACT_SCHEMA_BOOK_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_CONTRACT_SCHEMA_BOOK_SYNC
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_normalize_repo_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/normalization_docs_token_sync.spec.md
  notes: Required/forbidden token rules keep schema/contract/book wording aligned.
- rule_id: NORMALIZATION_FIX_COMMAND_AVAILABLE
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_FIX_COMMAND_AVAILABLE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/runner_adapter.sh
  - Makefile
  - docs/spec/governance/cases/normalization_spec_style_sync.spec.md
  notes: Explicit normalize-fix path is available for local authoring.
