version: 1
title: Spec Runner Contract Traceability
links:
- rule_id: CLI_RUN_ENTRYPOINT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_ENTRYPOINT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  unit_test_refs:
  - tests/test_harness_cli_run_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/harnesses/cli_run.py
  notes: Explicit entrypoint is required for all cli.run cases.
- rule_id: CLI_RUN_SAFE_MODE_RESTRICTS_HOOKS
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_SAFE_MODE_RESTRICTS_HOOKS
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/harnesses/cli_run.py
  notes: Python safe mode disables hooks when enabled.
- rule_id: CLI_RUN_ENV_ALLOWLIST_CONTROL
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_ENV_ALLOWLIST_CONTROL
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_php_spec_runner_unit.py
  implementation_refs:
  - scripts/php/spec_runner.php
  notes: PHP runner supports allowlisting ambient env for cli.run subprocesses.
- rule_id: CLI_RUN_CONFORMANCE_EXPLICIT_ENTRYPOINT
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_CONFORMANCE_EXPLICIT_ENTRYPOINT
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-CLI-002
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs: []
  notes: Conformance seed fixtures include explicit harness.entrypoint values.
- rule_id: CLI_RUN_CONFORMANCE_NO_ENV_DEPENDENCY
  policy_ref: docs/spec/contract/policy_v1.yaml#CLI_RUN_CONFORMANCE_NO_ENV_DEPENDENCY
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-CLI-002
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs: []
  notes: Conformance fixtures are explicit and do not depend on ambient entrypoint values.
- rule_id: ASSERT_HEALTH_MODE_VALID_VALUES
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_MODE_VALID_VALUES
  contract_refs:
  - docs/spec/contract/02_case_shape.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-003
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  notes: Value validation and mode parsing are enforced in assertion_health.
- rule_id: ASSERT_HEALTH_GLOBAL_AND_PER_CASE_POLICY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_GLOBAL_AND_PER_CASE_POLICY
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/02_case_shape.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-001
  - SRCONF-AH-002
  - SRCONF-AH-004
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_harness_cli_run_unit.py
  - tests/test_harness_text_file_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/text_file.py
  notes: Global env policy plus per-case override implemented for Python harnesses.
- rule_id: ASSERT_HEALTH_REDUNDANT_BRANCH_DIAGNOSTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_REDUNDANT_BRANCH_DIAGNOSTIC
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-005
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/cli_run.py
  notes: Python emits AH004 for redundant sibling branches.
- rule_id: ASSERT_HEALTH_NON_PORTABLE_REGEX_DIAGNOSTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_HEALTH_NON_PORTABLE_REGEX_DIAGNOSTIC
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-AH-006
  unit_test_refs:
  - tests/test_assertion_health_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/assertion_health.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  notes: Python emits AH005 for non-portable regex constructs.
- rule_id: SPEC_LANG_EVALUATE_LIST_SHAPE
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_EVALUATE_LIST_SHAPE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-005
  - SRCONF-EXPR-006
  unit_test_refs:
  - tests/test_assertions_unit.py
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/assertions.py
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Evaluate leaves accept mapping-AST expression nodes and reject malformed/legacy forms.
- rule_id: SPEC_LANG_PREFERRED_AUTHORING
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PREFERRED_AUTHORING
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/conformance_spec_lang_preferred.spec.md
  notes: Governance enforces evaluate-only assertion authoring in conformance and governance case surfaces.
- rule_id: SPEC_LANG_PURE_EVALUATOR
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PURE_EVALUATOR
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-002
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Evaluator core is deterministic and pure for supported forms.
- rule_id: SPEC_LANG_PROPER_TCO_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PROPER_TCO_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-003
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Tail-position call is implemented via iterative trampoline loops.
- rule_id: SPEC_LANG_EVAL_BUDGETS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_EVAL_BUDGETS_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-007
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Steps/nodes/literal/timeout budgets are enforced with deterministic failure reasons.
- rule_id: SPEC_LANG_ERROR_CLASSIFICATION
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ERROR_CLASSIFICATION
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/05_errors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-004
  - SRCONF-EXPR-005
  - SRCONF-EXPR-006
  - SRCONF-EXPR-007
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_conformance_parity_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - spec_runner/conformance.py
  - scripts/php/conformance_runner.php
  notes: Conformance maps evaluate failures to schema/assertion/runtime categories.
- rule_id: SPEC_LANG_CURRY_ALL_BUILTINS
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_CURRY_ALL_BUILTINS
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-013
  - SRCONF-EXPR-014
  - SRCONF-EXPR-016
  - SRCONF-EXPR-017
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Builtins support deterministic currying and over-application diagnostics.
- rule_id: SPEC_LANG_SET_ALGEBRA_PARITY
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_SET_ALGEBRA_PARITY
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-009
  - SRCONF-EXPR-010
  - SRCONF-EXPR-011
  - SRCONF-EXPR-018
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_conformance_parity_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  notes: Set algebra semantics are parity-tested and deterministic.
- rule_id: SPEC_LANG_DEEP_EQUALITY_DETERMINISTIC
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_DEEP_EQUALITY_DETERMINISTIC
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-009
  - SRCONF-EXPR-012
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  notes: Deep structural equality drives set/membership deterministically.
- rule_id: SPEC_LANG_COLLECTION_FORMS_CONTRACTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_COLLECTION_FORMS_CONTRACTED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-013
  - SRCONF-EXPR-014
  - SRCONF-EXPR-015
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  notes: Collection transforms remain contracted and conformance-covered.
- rule_id: SPEC_LANG_LIBRARY_REUSE_MODEL
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_LIBRARY_REUSE_MODEL
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - spec_runner/spec_lang.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/api_http.py
  notes: Library symbol loading and evaluation wiring are deterministic and covered by unit tests.
- rule_id: GOVERNANCE_SUBJECT_MODEL_SPEC_LANG_DECISIONS
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_SUBJECT_MODEL_SPEC_LANG_DECISIONS
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Initial governance checks use subject extraction with spec-lang decision expressions.
- rule_id: DOC_NORMATIVE_PAGE_TRACEABILITY
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_NORMATIVE_PAGE_TRACEABILITY
  contract_refs:
  - docs/spec/contract/00_design_goals.md
  - docs/spec/contract/versioning.md
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/02_case_shape.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/05_errors.md
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/contract/08_v1_scope.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance enforces traceability coverage across normative contract pages.
- rule_id: DOC_REGEX_PROFILE_LINKAGE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_REGEX_PROFILE_LINKAGE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03a_regex_portability_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance checks profile references across assertion, schema, and policy docs.
- rule_id: DOC_ASSERTION_OPERATOR_DOC_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOC_ASSERTION_OPERATOR_DOC_SYNC
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance checks synchronized core operator tokens between docs.
- rule_id: CONFORMANCE_EXPECT_OVERLAY_RESOLUTION
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_EXPECT_OVERLAY_RESOLUTION
  contract_refs:
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Conformance expectations resolve portable baseline with implementation overlays.
- rule_id: CONFORMANCE_CASE_STYLE_GUARD
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_CASE_STYLE_GUARD
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/style.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  notes: Governance enforces conformance case doc readability/style constraints.
- rule_id: CONFORMANCE_REQUIRES_CAPABILITIES_POLICY
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_REQUIRES_CAPABILITIES_POLICY
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/report_format.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_validate_conformance_report_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Conformance runner enforces requires.capabilities with skip/fail policy.
- rule_id: PORTABLE_SPEC_CANONICAL_SINGLE_SET
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_CANONICAL_SINGLE_SET
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/conformance/index.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  - spec_runner/conformance.py
  notes: Portable behavior source is the canonical conformance case set.
- rule_id: PORTABLE_SPEC_EXPECT_PORTABLE_IMPL_OVERLAY
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_EXPECT_PORTABLE_IMPL_OVERLAY
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Expectations resolve from portable baseline with optional runtime overlays.
- rule_id: PORTABLE_SPEC_DETERMINISM_BY_CONSTRUCTION
  policy_ref: docs/spec/contract/policy_v1.yaml#PORTABLE_SPEC_DETERMINISM_BY_CONSTRUCTION
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CLI-001
  - SRCONF-AH-004
  unit_test_refs:
  - tests/test_conformance_runner_unit.py
  implementation_refs:
  - spec_runner/conformance.py
  notes: Portable cases should avoid ambient dependencies and express variability explicitly.
- rule_id: CONFORMANCE_NO_AMBIENT_ASSUMPTIONS_GUARD
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_NO_AMBIENT_ASSUMPTIONS_GUARD
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/conformance_no_ambient_assumptions.spec.md
  notes: Governance enforces ambient env/time/random token bans in portable conformance case content.
- rule_id: CONFORMANCE_PURPOSE_QUALITY_GATE
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_PURPOSE_QUALITY_GATE
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/conformance/purpose_lint_v1.yaml
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_conformance_purpose_report_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/conformance_purpose.py
  notes: Governance enforces conformance purpose warning budget and policy integrity.
- rule_id: SPEC_PORTABILITY_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/spec_portability_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_spec_portability_report_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/spec_portability_report.py
  - scripts/run_governance_specs.py
  notes: Portability metric report generation and governance wiring are covered by unit and script tests.
- rule_id: SPEC_PORTABILITY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/spec_portability_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_portability_baseline.json
  notes: Governance enforces monotonic non-regression for configured spec-lang self-containment metrics.
- rule_id: SPEC_LANG_ADOPTION_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ADOPTION_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/spec_lang_adoption_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/spec_lang_adoption_report.py
  - scripts/run_governance_specs.py
  notes: Spec-lang adoption metric report and governance wiring are covered by unit/script tests.
- rule_id: SPEC_LANG_ADOPTION_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_ADOPTION_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/spec_lang_adoption_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Governance enforces non-regression on configured spec-lang adoption metrics.
- rule_id: GOVERNANCE_SYMBOL_RESOLUTION_RATIO_NON_REGRESSION
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_SYMBOL_RESOLUTION_RATIO_NON_REGRESSION
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/core/spec_lang_adoption_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Spec-lang adoption ratchet enforces governance policy symbol resolution ratio non-regression.
- rule_id: LIBRARY_PUBLIC_SURFACE_RATIO_NON_REGRESSION
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_PUBLIC_SURFACE_RATIO_NON_REGRESSION
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/governance/cases/core/spec_lang_adoption_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Spec-lang adoption ratchet enforces library public surface ratio non-regression.
- rule_id: CONFORMANCE_EVALUATE_FIRST_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_EVALUATE_FIRST_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/conformance/style.md
  - docs/spec/governance/cases/core/conformance_evaluate_first_ratio_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Conformance evaluate-only coverage is pinned by baseline-backed non-regression checks.
- rule_id: IMPL_EVALUATE_FIRST_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#IMPL_EVALUATE_FIRST_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/impl_evaluate_first_required.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/impl/php/cases/runner_pass.spec.md
  notes: Governance enforces evaluate-first assertion authoring in impl fixture surfaces.
- rule_id: IMPL_EVALUATE_RATIO_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#IMPL_EVALUATE_RATIO_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/impl_evaluate_ratio_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Impl evaluate ratio is ratcheted via baseline-backed non-regression checks.
- rule_id: IMPL_LIBRARY_BACKED_ASSERTIONS_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#IMPL_LIBRARY_BACKED_ASSERTIONS_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/impl_library_usage_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Impl library-backed assertion ratio is ratcheted to preserve reusable helper adoption.
- rule_id: CONFORMANCE_SPEC_LANG_FIXTURE_LIBRARY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_SPEC_LANG_FIXTURE_LIBRARY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/conformance_spec_lang_fixture_library_usage.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-001
  - SRCONF-EXPR-002
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/libraries/conformance/assertion_core.spec.md
  notes: Governance enforces helper-library reuse in spec_lang conformance fixtures.
- rule_id: CONFORMANCE_LIBRARY_POLICY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONFORMANCE_LIBRARY_POLICY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/core/conformance_library_policy_usage_required.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Conformance-prefixed governance checks require library-backed policy calls.
- rule_id: GOVERNANCE_POLICY_LIBRARY_USAGE_NON_REGRESSION
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_LIBRARY_USAGE_NON_REGRESSION
  contract_refs:
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/core/governance_policy_library_usage_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/spec_lang_adoption_baseline.json
  notes: Governance ratchets shared library usage for policy expressions and fails regressions.
- rule_id: GOVERNANCE_POLICY_LIBRARY_USAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_LIBRARY_USAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  - docs/spec/governance/cases/core/governance_policy_library_usage_required.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance requires library-backed policy wiring and policy_evaluate calls to exported library symbols.
- rule_id: RUNNER_INDEPENDENCE_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNNER_INDEPENDENCE_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/core/runner_independence_metric.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/runner_independence_report.py
  - scripts/run_governance_specs.py
  notes: Runner-independence metric report generation and governance wiring are covered by tests.
- rule_id: RUNNER_INDEPENDENCE_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNNER_INDEPENDENCE_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/core/runner_independence_non_regression.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/runner_independence_baseline.json
  notes: Governance enforces non-regression on configured runner-independence metrics.
- rule_id: RUNTIME_PYTHON_DEPENDENCY_EVIDENCE_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_DEPENDENCY_EVIDENCE_REPORTED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/core/runtime_python_dependency_metric.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/python_dependency_report.py
  - scripts/run_governance_specs.py
  notes: Python-dependency evidence report is generated and enforced through governance.
- rule_id: RUNTIME_PYTHON_DEPENDENCY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_DEPENDENCY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/governance/cases/core/runtime_python_dependency_non_regression.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/python_dependency_baseline.json
  notes: Python-dependency metrics are ratcheted with checked-in baseline values.
- rule_id: RUNTIME_NON_PYTHON_LANES_FORBID_PYTHON_EXEC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_NON_PYTHON_LANES_FORBID_PYTHON_EXEC
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/governance/cases/core/runtime_non_python_lane_no_python_exec.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  notes: Non-python lane token checks are enforced using python-dependency report inputs.
- rule_id: RUNTIME_RUST_ADAPTER_TRANSITIVE_NO_PYTHON
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_TRANSITIVE_NO_PYTHON
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/governance/cases/core/runtime_rust_adapter_transitive_no_python.spec.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/rust/runner_adapter.sh
  notes: Rust adapter shell boundary avoids direct transitive python delegation tokens.
- rule_id: RUNTIME_DEFAULT_GATE_RUST_ADAPTER_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_DEFAULT_GATE_RUST_ADAPTER_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  implementation_refs:
  - scripts/ci_gate.sh
  - scripts/core_gate.sh
  - scripts/docs_doctor.sh
  notes: Default gate scripts now set rust adapter as default runner interface boundary.
- rule_id: RUNTIME_PYTHON_USAGE_SCOPED_TO_PYTHON_RUNNER
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PYTHON_USAGE_SCOPED_TO_PYTHON_RUNNER
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - docs/spec/governance/cases/core/runtime_python_dependency_metric.spec.md
  - docs/spec/governance/cases/core/runtime_non_python_lane_no_python_exec.spec.md
  notes: Python usage is scoped to explicit python-runner surfaces via python-dependency metric and lane checks.
- rule_id: DOCS_OPERABILITY_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_OPERABILITY_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/governance/cases/core/docs_operability_metric.spec.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/docs_operability_report.py
  - scripts/run_governance_specs.py
  notes: Docs-operability metric report generation and governance wiring are covered by tests.
- rule_id: DOCS_OPERABILITY_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_OPERABILITY_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/governance/cases/core/docs_operability_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/docs_operability_baseline.json
  notes: Governance enforces non-regression on configured docs-operability metrics.
- rule_id: CONTRACT_ASSERTIONS_METRIC_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_ASSERTIONS_METRIC_REPORTED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/governance/cases/core/contract_assertions_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_quality_metric_report_scripts_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/contract_assertions_report.py
  - scripts/run_governance_specs.py
  notes: Contract-assertions metric report generation and governance wiring are covered by tests.
- rule_id: CONTRACT_ASSERTIONS_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_ASSERTIONS_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/governance/cases/core/contract_assertions_non_regression.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/metrics/contract_assertions_baseline.json
  notes: Governance enforces non-regression on configured contract-assertions metrics.
- rule_id: SPEC_PORTABILITY_THRESHOLD_ENFORCED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_PORTABILITY_THRESHOLD_ENFORCED
  contract_refs:
  - docs/spec/contract/07_portable_spec_authoring.md
  - docs/spec/governance/cases/core/spec_portability_metric.spec.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_portability_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_portability.py
  - scripts/run_governance_specs.py
  notes: Threshold support is present in config/report model and can be enforced via governance config when enabled.
- rule_id: DOCS_REF_SURFACE_COMPLETE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REF_SURFACE_COMPLETE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_index.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Governance enforces required reference surface file presence.
- rule_id: DOCS_REFERENCE_INDEX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REFERENCE_INDEX_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_index.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Reference index entries must match actual chapter files and order.
- rule_id: DOCS_REQUIRED_SECTIONS_PRESENT
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REQUIRED_SECTIONS_PRESENT
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/02_core_model.md
  - docs/book/03_assertions.md
  - docs/book/07_spec_lang_reference.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Required section tokens in reference chapters are hard-gated.
- rule_id: DOCS_EXAMPLES_RUNNABLE_OR_EXPLICITLY_OPTED_OUT
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_EXAMPLES_RUNNABLE_OR_EXPLICITLY_OPTED_OUT
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Invalid doc examples fail unless an explicit opt-out marker with reason is present.
- rule_id: DOCS_CLI_FLAGS_DOCUMENTED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_CLI_FLAGS_DOCUMENTED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/development.md
  - docs/spec/impl/python.md
  - docs/spec/impl/php.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Public runner flags extracted from script parsers must be documented.
- rule_id: DOCS_CONTRACT_SCHEMA_BOOK_TOKEN_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_CONTRACT_SCHEMA_BOOK_TOKEN_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/03_assertions.md
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Core assertion token vocabulary remains synchronized across book/contract/schema docs.
- rule_id: DOCS_META_SCHEMA_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_META_SCHEMA_VALID
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_meta_schema_valid.spec.md
  notes: Reference chapter doc-meta blocks are schema-validated.
- rule_id: DOCS_REFERENCE_MANIFEST_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REFERENCE_MANIFEST_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_manifest.yaml
  schema_refs:
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_build_reference_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_build_reference.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_reference_manifest_sync.spec.md
  notes: Reference index generation/sync is enforced against manifest source data.
- rule_id: DOCS_TOKEN_OWNERSHIP_UNIQUE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_TOKEN_OWNERSHIP_UNIQUE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_token_ownership_unique.spec.md
  notes: Canonical doc tokens must have exactly one owner page.
- rule_id: DOCS_TOKEN_DEPENDENCY_RESOLVED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_TOKEN_DEPENDENCY_RESOLVED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_token_dependency_resolved.spec.md
  notes: Requires-token dependencies must resolve to owner docs and owner content.
- rule_id: DOCS_INSTRUCTIONS_REQUIRED_SECTIONS
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_INSTRUCTIONS_REQUIRED_SECTIONS
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_instructions_complete.spec.md
  notes: Instruction docs must retain required operational sections.
- rule_id: DOCS_COMMAND_EXAMPLES_VERIFIED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_COMMAND_EXAMPLES_VERIFIED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_command_examples_verified.spec.md
  notes: Docs examples are validated or explicitly opted out with reason.
- rule_id: DOCS_EXAMPLE_IDS_UNIQUE
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_EXAMPLE_IDS_UNIQUE
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_lint_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - spec_runner/spec_lang_commands.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_example_id_uniqueness.spec.md
  notes: Example identifiers remain unique across canonical docs metadata.
- rule_id: DOCS_GENERATED_ARTIFACTS_FRESH
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATED_ARTIFACTS_FRESH
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/book/reference_manifest.yaml
  schema_refs:
  - docs/spec/schema/reference_manifest_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_build_reference_unit.py
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - spec_runner/docs_quality.py
  - scripts/docs_build_reference.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_generated_files_clean.spec.md
  notes: Generated docs artifacts must stay synchronized with manifest and metadata.
- rule_id: DOCS_MAKE_COMMANDS_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_MAKE_COMMANDS_SYNC
  contract_refs:
  - README.md
  - docs/development.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/contract_governance.py
  notes: Governance enforces canonical make command entrypoints in core contributor docs.
- rule_id: DOCS_ADOPTION_PROFILES_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_ADOPTION_PROFILES_SYNC
  contract_refs:
  - docs/spec/contract/11_adoption_profiles.md
  - README.md
  - docs/development.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_adoption_profiles_sync.spec.md
  - spec_runner/contract_governance.py
  notes: Governance enforces synchronized Core/Full adoption profile docs and commands.
- rule_id: DOCS_RELEASE_CONTRACT_AUTOMATION_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_RELEASE_CONTRACT_AUTOMATION_ONLY
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/release_checklist.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_release_contract_automation_policy.spec.md
  - spec_runner/contract_governance.py
  notes: Release guidance is automation-first and forbids manual sequential checklist choreography.
- rule_id: RUNTIME_RUNNER_INTERFACE_GATE_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_INTERFACE_GATE_SYNC
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_runner_interface_gate_sync.spec.md
  - scripts/ci_gate.sh
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  notes: Governance enforces runner-interface boundary usage in gate shell scripts.
- rule_id: RUNTIME_LOCAL_CI_PARITY_PYTHON_LANE_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_LOCAL_CI_PARITY_PYTHON_LANE_FORBIDDEN
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/local_ci_parity.sh
  - docs/spec/governance/cases/core/runtime_local_ci_parity_python_lane_forbidden.spec.md
  notes: Local ci parity path is rust-only and forbids python lane execution.
- rule_id: RUNTIME_MAKE_PYTHON_PARITY_TARGETS_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_MAKE_PYTHON_PARITY_TARGETS_FORBIDDEN
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - Makefile
  - docs/spec/governance/cases/core/runtime_make_python_parity_targets_forbidden.spec.md
  notes: Contributor make targets avoid python parity runtime lanes.
- rule_id: RUNTIME_RUST_ONLY_PREPUSH_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ONLY_PREPUSH_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/local_ci_parity.sh
  - .githooks/pre-push
  - Makefile
  - docs/spec/governance/cases/core/runtime_rust_only_prepush_required.spec.md
  notes: End-to-end prepush entrypoints stay rust-only.
- rule_id: RUNTIME_GIT_HOOK_PREPUSH_ENFORCED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GIT_HOOK_PREPUSH_ENFORCED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - .githooks/pre-push
  - scripts/install_git_hooks.sh
  - Makefile
  - docs/spec/governance/cases/core/runtime_git_hook_prepush_enforced.spec.md
  notes: Managed pre-push hook and installer enforce local parity checks before push.
- rule_id: RUNTIME_FAST_PATH_CONSISTENCY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_FAST_PATH_CONSISTENCY_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/local_ci_parity.sh
  - scripts/ci_gate.sh
  - .githooks/pre-push
  - docs/spec/governance/cases/core/runtime_fast_path_consistency_required.spec.md
  notes: Fast-path tokens remain consistent across local parity, ci gate, and pre-push hook entrypoints.
- rule_id: RUNTIME_RUST_ADAPTER_TARGET_FALLBACK_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_TARGET_FALLBACK_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - docs/spec/governance/cases/core/runtime_rust_adapter_target_fallback_defined.spec.md
  notes: Rust adapter provides host-target fallback and strict-mode override.
- rule_id: RUNTIME_LOCAL_CI_PARITY_ENTRYPOINT_DOCUMENTED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_LOCAL_CI_PARITY_ENTRYPOINT_DOCUMENTED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/development.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - README.md
  - docs/development.md
  - docs/book/05_howto.md
  - docs/book/06_troubleshooting.md
  - docs/spec/governance/cases/core/runtime_local_ci_parity_entrypoint_documented.spec.md
  notes: Contributor docs describe parity default prepush, fast mode, hook install, and bypass semantics.
- rule_id: RUNTIME_GOVERNANCE_TRIAGE_ENTRYPOINT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GOVERNANCE_TRIAGE_ENTRYPOINT_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - docs/spec/governance/check_prefix_map_v1.yaml
  - docs/spec/governance/cases/core/runtime_governance_triage_entrypoint_required.spec.md
  notes: Canonical governance triage entrypoint surface and modes are enforced.
- rule_id: RUNTIME_PREPUSH_GOVERNANCE_TRIAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PREPUSH_GOVERNANCE_TRIAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/local_ci_parity.sh
  - docs/spec/governance/cases/core/runtime_prepush_uses_governance_triage_required.spec.md
  notes: Prepush governance step must use triage entrypoint.
- rule_id: RUNTIME_CIGATE_GOVERNANCE_TRIAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_CIGATE_GOVERNANCE_TRIAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - docs/spec/governance/cases/core/runtime_cigate_uses_governance_triage_required.spec.md
  notes: CI gate summary routes governance through triage and exposes triage metadata.
- rule_id: RUNTIME_TRIAGE_ARTIFACTS_EMITTED_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_TRIAGE_ARTIFACTS_EMITTED_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - scripts/ci_gate_summary.py
  - docs/spec/governance/cases/core/runtime_triage_artifacts_emitted_required.spec.md
  notes: Triage flow emits deterministic machine/human artifacts on failure/stall.
- rule_id: RUNTIME_TRIAGE_FAILURE_ID_PARSING_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_TRIAGE_FAILURE_ID_PARSING_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - docs/spec/governance/check_prefix_map_v1.yaml
  - docs/spec/governance/cases/core/runtime_triage_failure_id_parsing_required.spec.md
  notes: Triage parser extracts error check ids and maps them to targeted prefixes.
- rule_id: RUNTIME_TRIAGE_BYPASS_LOGGING_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_TRIAGE_BYPASS_LOGGING_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - .githooks/pre-push
  - docs/spec/governance/cases/core/runtime_triage_bypass_logged_required.spec.md
  notes: Emergency bypass remains explicit and logged.
- rule_id: RUNTIME_GOVERNANCE_TRIAGE_TARGETED_FIRST_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GOVERNANCE_TRIAGE_TARGETED_FIRST_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - docs/spec/governance/cases/core/runtime_governance_triage_targeted_first_required.spec.md
  notes: Auto triage defaults to targeted-first with broad-first explicit mode.
- rule_id: RUNTIME_LOCAL_PREPUSH_BROAD_GOVERNANCE_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_LOCAL_PREPUSH_BROAD_GOVERNANCE_FORBIDDEN
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/local_ci_parity.sh
  - docs/spec/governance/cases/core/runtime_local_prepush_broad_governance_forbidden.spec.md
  notes: Local prepush keeps broad governance out of default flow.
- rule_id: RUNTIME_CI_GATE_OWNERSHIP_CONTRACT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_CI_GATE_OWNERSHIP_CONTRACT_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/ci_gate.sh
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - docs/spec/governance/cases/core/runtime_ci_gate_ownership_contract_required.spec.md
  notes: CI gate owns critical in ci_gate.sh and keeps ci-gate-summary broad-only without critical toggles.
- rule_id: RUNTIME_GOVERNANCE_PREFIX_SELECTION_FROM_CHANGED_PATHS
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GOVERNANCE_PREFIX_SELECTION_FROM_CHANGED_PATHS
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - docs/spec/governance/cases/core/runtime_governance_prefix_selection_from_changed_paths.spec.md
  notes: Triage resolves changed-path prefixes before fallback prefix sets.
- rule_id: RUNTIME_GOVERNANCE_TRIAGE_ARTIFACT_SELECTION_METADATA_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GOVERNANCE_TRIAGE_ARTIFACT_SELECTION_METADATA_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/governance_triage.sh
  - docs/spec/governance/cases/core/runtime_governance_triage_artifact_contains_selection_metadata.spec.md
  notes: Triage artifact includes selected prefixes, source, and broad-required flags.
- rule_id: RUNTIME_CI_ARTIFACT_UPLOAD_PATHS_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_CI_ARTIFACT_UPLOAD_PATHS_VALID
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - .github/workflows/ci.yml
  - docs/spec/governance/cases/core/runtime_ci_artifact_upload_paths_valid.spec.md
  notes: CI workflow uses recursive .artifacts upload paths so diagnostics are retained.
- rule_id: RUNTIME_SCOPE_BOUNDED_FOR_V1
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_SCOPE_BOUNDED_FOR_V1
  contract_refs:
  - docs/spec/contract/08_v1_scope.md
  - docs/spec/contract/13_runtime_scope.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_contract_governance_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_scope_sync.spec.md
  notes: Governance keeps v1 runtime support scope explicitly bounded to declared targets.
- rule_id: RUNTIME_ASSERTIONS_VIA_SPEC_LANG
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_ASSERTIONS_VIA_SPEC_LANG
  contract_refs:
  - docs/spec/contract/09_internal_representation.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_php_conformance_subset_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/php/conformance_runner.php
  - scripts/php/spec_runner.php
  - spec_runner/assertions.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/api_http.py
  notes: Governance enforces spec-lang-backed assertion execution paths for runtime scanners/runners.
- rule_id: CONTRACT_MUST_RULE_COVERAGE_COMPLETE
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_MUST_RULE_COVERAGE_COMPLETE
  contract_refs:
  - docs/spec/contract/policy_v1.yaml
  - docs/spec/contract/traceability_v1.yaml
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_contract_governance_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/contract_governance.py
  - scripts/run_governance_specs.py
  notes: Governance enforces complete coverage for active MUST contract rules.
- rule_id: SPEC_LANG_PURE_NO_EFFECT_BUILTINS
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_PURE_NO_EFFECT_BUILTINS
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  - docs/spec/governance/cases/core/runtime_spec_lang_pure_no_effect_builtins.spec.md
  notes: Spec-lang core forbids side-effect builtins; adapters provide normalized effect results.
- rule_id: RUNTIME_DECISIONS_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_DECISIONS_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_harness_cli_run_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - spec_runner/harnesses/cli_run.py
  notes: Runtime assertions compile external operators to spec-lang and evaluate through one engine.
- rule_id: ASSERT_UNIVERSAL_CORE_EVALUATE_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_UNIVERSAL_CORE_EVALUATE_ONLY
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_universal_core_sync.spec.md
  notes: Universal assertion core is evaluate; sugar operators compile into evaluate-equivalent expressions.
- rule_id: ASSERT_SUGAR_OPERATORS_COMPILE_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_SUGAR_OPERATORS_COMPILE_ONLY
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-EXPR-008
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_assertions_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_sugar_compile_only_sync.spec.md
  notes: Sugar ops remain authoring convenience only; runtime uses compiled predicates.
- rule_id: ASSERT_TARGET_CONTRACT_SUBJECT_DRIVEN
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_TARGET_CONTRACT_SUBJECT_DRIVEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/types/text_file.md
  - docs/spec/contract/types/cli_run.md
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_type_contract_subject_semantics_sync.spec.md
  notes: Type contracts define subject semantics and availability responsibilities.
- rule_id: ASSERT_COMPILER_SCHEMA_MATRIX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_COMPILER_SCHEMA_MATRIX_SYNC
  contract_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/09_internal_representation.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_compiler_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_compiler_schema_matrix_sync.spec.md
  notes: Governance enforces compiler/schema/contract alignment for universal evaluate model.
- rule_id: GOVERNANCE_DECISIONS_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_DECISIONS_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/conformance_spec_lang_preferred.spec.md
  notes: Governance decision expressions are configured as spec-lang data in harness config.
- rule_id: ORCHESTRATION_POLICY_VIA_SPEC_LANG_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_POLICY_VIA_SPEC_LANG_ONLY
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ci_gate_summary_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - docs/spec/governance/cases/core/runtime_orchestration_policy_via_spec_lang.spec.md
  notes: CI gate summary loads a spec-lang decision expression from governance policy case.
- rule_id: ORCHESTRATION_OPS_DEEP_DOT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_OPS_DEEP_DOT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ops_namespace_unit.py
  implementation_refs:
  - spec_runner/ops_namespace.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/orchestration_ops_symbol_grammar.spec.md
  notes: Ops effect symbols are validated against deep-dot canonical grammar.
- rule_id: ORCHESTRATION_OPS_UNDERSCORE_LEGACY_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_OPS_UNDERSCORE_LEGACY_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ops_namespace_unit.py
  implementation_refs:
  - spec_runner/ops_namespace.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/orchestration_ops_legacy_underscore_forbidden.spec.md
  notes: Legacy underscore shorthand ops symbols are hard-failed.
- rule_id: ORCHESTRATION_OPS_REGISTRY_DECLARED_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_OPS_REGISTRY_DECLARED_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/orchestration_result_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_harness_orchestration_run_unit.py
  implementation_refs:
  - docs/spec/tools/python/tools_v1.yaml
  - docs/spec/tools/rust/tools_v1.yaml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/orchestration_ops_registry_sync.spec.md
  notes: Orchestration tools registry must declare effect symbols, capabilities, and schema refs.
- rule_id: ORCHESTRATION_OPS_CAPABILITY_BINDING_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ORCHESTRATION_OPS_CAPABILITY_BINDING_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_harness_orchestration_run_unit.py
  implementation_refs:
  - spec_runner/harnesses/orchestration_run.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/orchestration_ops_capability_bindings.spec.md
  notes: Orchestration cases must bind required capability ids for selected tools.
- rule_id: CURRENT_SPEC_POLICY_KEY_NAMES
  policy_ref: docs/spec/contract/policy_v1.yaml#CURRENT_SPEC_POLICY_KEY_NAMES
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_current_spec_policy_key_names.spec.md
  notes: Governance checks align current spec cases to the policy_evaluate key.
- rule_id: RUNTIME_RUNNER_INTERFACE_SUBCOMMANDS_DECLARED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_INTERFACE_SUBCOMMANDS_DECLARED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/rust/runner_adapter.sh
  - docs/spec/governance/cases/core/runtime_runner_interface_subcommands.spec.md
  notes: Governance verifies Rust adapter case labels cover required runner-interface subcommands.
- rule_id: RUNTIME_CI_PYTHON_LANE_NON_BLOCKING_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_CI_PYTHON_LANE_NON_BLOCKING_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - .github/workflows/ci.yml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_ci_python_lane_non_blocking_required.spec.md
  notes: Governance verifies python parity lane remains visible but non-blocking in CI.
- rule_id: RUNTIME_RUST_ADAPTER_NO_DELEGATION
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_NO_DELEGATION
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_adapter_no_delegate.spec.md
  notes: Governance prevents regression back to shell adapter delegation in the Rust lane.
- rule_id: RUST_PRIMARY_GATE_PATH_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_GATE_PATH_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - .github/workflows/ci.yml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_gate_path.spec.md
  notes: Rust-primary CI lane requirement is enforced through runner-interface CI lane checks.
- rule_id: RUST_PRIMARY_NO_PYTHON_GATE_DEPENDENCY
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_NO_PYTHON_GATE_DEPENDENCY
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate.sh
  - scripts/core_gate.sh
  - scripts/docs_doctor.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_no_python_dependency.spec.md
  notes: Gate orchestration remains runner-interface based without direct Python command coupling.
- rule_id: RUST_PRIMARY_INTERFACE_STABILITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_INTERFACE_STABILITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_interface_stability.spec.md
  notes: Rust adapter preserves required runner-interface command surface.
- rule_id: RUST_PRIMARY_SHARED_CAPABILITY_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_SHARED_CAPABILITY_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/06_conformance.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_conformance_parity_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/core_gate.sh
  - scripts/compare_conformance_parity.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_shared_capability_parity.spec.md
  notes: Rust-primary-compatible gate flow retains shared-capability parity step.
- rule_id: RUST_PRIMARY_ADAPTER_EXEC_SMOKE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_ADAPTER_EXEC_SMOKE_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_adapter_exec_smoke.spec.md
  notes: Rust-primary governance includes an executable smoke check for adapter command behavior.
- rule_id: RUST_PRIMARY_SUBCOMMAND_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_SUBCOMMAND_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/runner_adapter.sh
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_rust_primary_subcommand_parity.spec.md
  notes: Governance enforces parity between shell adapter and Rust CLI subcommand surfaces.
- rule_id: RUST_PRIMARY_DOCS_ADOPTION_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUST_PRIMARY_DOCS_ADOPTION_SYNC
  contract_refs:
  - docs/spec/contract/16_rust_primary_transition.md
  - docs/spec/contract/11_adoption_profiles.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - README.md
  - docs/development.md
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_adoption_profiles_sync.spec.md
  notes: Adoption profile docs remain synchronized during Rust-primary transition.
- rule_id: OBJECTIVE_METRIC_MANIFEST_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_METRIC_MANIFEST_VALID
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_manifest.yaml
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/objective_scorecard_metric.spec.md
  notes: Objective manifest remains schema-valid and includes required objective IDs.
- rule_id: OBJECTIVE_SCORECARD_REPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_SCORECARD_REPORTED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_objective_scorecard_report_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/objective_scorecard_report.py
  - spec_runner/quality_metrics.py
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  - docs/spec/governance/cases/core/objective_scorecard_metric.spec.md
  notes: Objective scorecard is generated as JSON/Markdown artifact.
- rule_id: OBJECTIVE_SCORECARD_NON_REGRESSION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_SCORECARD_NON_REGRESSION_REQUIRED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_scorecard_baseline.json
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/objective_scorecard_non_regression.spec.md
  notes: Objective scorecard summary values are ratchet-gated by baseline.
- rule_id: OBJECTIVE_TRIPWIRES_ENFORCED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_TRIPWIRES_ENFORCED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/objective_manifest.yaml
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/objective_tripwires_clean.spec.md
  notes: Tripwire check IDs in objective manifest must map to passing governance checks.
- rule_id: OBJECTIVE_COURSE_CORRECTION_POLICY_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#OBJECTIVE_COURSE_CORRECTION_POLICY_DEFINED
  contract_refs:
  - docs/spec/contract/17_objective_metrics.md
  schema_refs:
  - docs/spec/schema/objective_metrics_schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_objective_scorecard_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/metrics/baseline_update_notes.yaml
  - spec_runner/quality_metrics.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/objective_scorecard_non_regression.spec.md
  notes: Baseline update metadata notes are hash-pinned and required by governance.
- rule_id: GOVERNANCE_POLICY_EVALUATE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_POLICY_EVALUATE_REQUIRED
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/governance_engine.py
  notes: Governance decision checks require policy_evaluate and central policy evaluation.
- rule_id: SPEC_LANG_LIBRARY_INCLUDE_FORMAT_SCOPE
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_LIBRARY_INCLUDE_FORMAT_SCOPE
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_codecs_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - spec_runner/codecs.py
  notes: Library include formats allow md/yaml while executable case discovery stays markdown-default unless explicitly enabled.
- rule_id: NAMING_FILENAME_STRICT_SEPARATORS
  policy_ref: docs/spec/contract/policy_v1.yaml#NAMING_FILENAME_STRICT_SEPARATORS
  contract_refs:
  - AGENTS.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/naming_filename_policy.spec.md
  notes: Filename stems are governance-checked for lowercase + underscore word separators + hyphen section separators.
- rule_id: GOVERNANCE_EXTRACTOR_ONLY_NO_VERDICT_BRANCHING
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_EXTRACTOR_ONLY_NO_VERDICT_BRANCHING
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/governance_engine.py
  notes: Per-check policy verdict branching is replaced by extractor output + central policy engine.
- rule_id: GOVERNANCE_STRUCTURED_ASSERTIONS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#GOVERNANCE_STRUCTURED_ASSERTIONS_REQUIRED
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/governance_structured_assertions_required.spec.md
  notes: Governance cases use structured result targets for assertion truth instead of PASS text coupling.
- rule_id: RUNTIME_RUST_ADAPTER_NO_PYTHON_EXEC
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUST_ADAPTER_NO_PYTHON_EXEC
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_rust_runner_interface_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/rust/runner_adapter.sh
  - scripts/run_governance_specs.py
  notes: Rust runner interface source must avoid direct Python execution token coupling.
- rule_id: NORMALIZATION_PROFILE_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_PROFILE_DEFINED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/normalization_profile_sync.spec.md
  notes: Normalization profile structure is governance-enforced.
- rule_id: NORMALIZATION_CHECK_GATE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_CHECK_GATE_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_ci_gate_summary_script_unit.py
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/runner_adapter.sh
  - scripts/ci_gate_summary.py
  - Makefile
  notes: Normalize check is included in smoke/full gate command paths.
- rule_id: NORMALIZATION_MAPPING_AST_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_MAPPING_AST_ONLY
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids:
  - SRCONF-EXPR-005
  unit_test_refs:
  - tests/test_spec_lang_yaml_ast_unit.py
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_yaml_ast.py
  - scripts/normalize_repo.py
  - scripts/convert_spec_lang_yaml_ast.py
  - docs/spec/governance/cases/core/normalization_mapping_ast_only.spec.md
  notes: Mapping-AST-only syntax is enforced through compiler and normalization checks.
- rule_id: NORMALIZATION_CONTRACT_SCHEMA_BOOK_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_CONTRACT_SCHEMA_BOOK_SYNC
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_normalize_repo_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/normalization_docs_token_sync.spec.md
  notes: Required/forbidden token rules keep schema/contract/book wording aligned.
- rule_id: NORMALIZATION_FIX_COMMAND_AVAILABLE
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_FIX_COMMAND_AVAILABLE
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/normalization_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_normalize_repo_script_unit.py
  implementation_refs:
  - scripts/normalize_repo.py
  - scripts/runner_adapter.sh
  - Makefile
  - docs/spec/governance/cases/core/normalization_spec_style_sync.spec.md
  notes: Explicit normalize-fix path is available for local authoring.
- rule_id: NORMALIZATION_VIRTUAL_ROOT_PATHS_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#NORMALIZATION_VIRTUAL_ROOT_PATHS_ONLY
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_virtual_paths_unit.py
  implementation_refs:
  - spec_runner/virtual_paths.py
  - scripts/convert_virtual_root_paths.py
  - docs/spec/governance/cases/core/normalization_virtual_root_paths_only.spec.md
  notes: Scoped path fields normalize to canonical virtual-root `/...` form.
- rule_id: REFERENCE_CONTRACT_PATHS_EXIST
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_CONTRACT_PATHS_EXIST
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_contract_paths_exist.spec.md
  notes: Governance validates referenced in-root paths exist before runtime.
- rule_id: REFERENCE_SYMBOLS_EXIST
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_SYMBOLS_EXIST
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_symbols_exist.spec.md
  notes: Library exports/symbol references are validated early.
- rule_id: REFERENCE_POLICY_SYMBOLS_RESOLVE
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_POLICY_SYMBOLS_RESOLVE
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_policy_symbols_resolve.spec.md
  notes: Dotted policy var symbols must resolve against declared harness.spec_lang library symbols.
- rule_id: REFERENCE_LIBRARY_EXPORTS_USED
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_LIBRARY_EXPORTS_USED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_library_exports_used.spec.md
  notes: Library defines.public symbols must be referenced by policies/expressions or harness exports.
- rule_id: REFERENCE_PRIVATE_SYMBOLS_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_PRIVATE_SYMBOLS_FORBIDDEN
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_private_symbols_forbidden.spec.md
  notes: defines.private symbols are forbidden from external case policy/assertion references.
- rule_id: REFERENCE_CHECK_IDS_EXIST
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_CHECK_IDS_EXIST
  contract_refs:
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_check_ids_exist.spec.md
  notes: Governance case check ids must map to registered scanner ids.
- rule_id: REFERENCE_EXTERNAL_REFS_POLICY
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_EXTERNAL_REFS_POLICY
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_virtual_paths_unit.py
  implementation_refs:
  - spec_runner/external_refs.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_external_refs_policy.spec.md
  notes: External refs are deny-by-default and capability/policy gated.
- rule_id: REFERENCE_TOKEN_ANCHORS_EXIST
  policy_ref: docs/spec/contract/policy_v1.yaml#REFERENCE_TOKEN_ANCHORS_EXIST
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/reference_token_anchors_exist.spec.md
  notes: Token anchor references are checked for file existence and token presence.
- rule_id: SPEC_LAYOUT_DOMAIN_TREES
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LAYOUT_DOMAIN_TREES
  contract_refs:
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/06_conformance.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/migrate_spec_layout_domain_trees.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_layout_domain_trees.spec.md
  notes: Domain-tree directories are required for conformance/governance/libraries spec surfaces.
- rule_id: SPEC_DOMAIN_INDEX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_DOMAIN_INDEX_SYNC
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/migrate_spec_layout_domain_trees.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_domain_index_sync.spec.md
  notes: Domain index files are checked for completeness and stale entries.
- rule_id: LIBRARY_DOMAIN_OWNERSHIP
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_DOMAIN_OWNERSHIP
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/library_domain_ownership.spec.md
  notes: Governance enforces domain ownership boundaries for harness.spec_lang.includes.
- rule_id: LIBRARY_DOMAIN_INDEX_SYNC
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_DOMAIN_INDEX_SYNC
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/migrate_spec_layout_domain_trees.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/library_domain_index_sync.spec.md
  notes: Library domain indexes are checked for complete file and exported symbol inventory coverage.
- rule_id: LIBRARY_PUBLIC_SURFACE_MODEL
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_PUBLIC_SURFACE_MODEL
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_spec_lang_libraries_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/spec_lang_libraries.py
  - docs/spec/governance/cases/core/library_public_surface_model.spec.md
  notes: spec_lang.export shape enforcement requires defines.public/defines.private scopes.
- rule_id: LIBRARY_SINGLE_PUBLIC_SYMBOL_PER_CASE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_SINGLE_PUBLIC_SYMBOL_PER_CASE_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_normalize_repo_script_unit.py
  - tests/test_split_library_cases_per_symbol_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  - scripts/split_library_cases_per_symbol.py
  notes: Library cases are function-granular with one public symbol per case.
- rule_id: LIBRARY_COLOCATED_SYMBOL_TESTS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_COLOCATED_SYMBOL_TESTS_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/library_colocated_symbol_tests_required.spec.md
  notes: Library files must include colocated executable non-library tests.
- rule_id: SPEC_LANG_STDLIB_PROFILE_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_STDLIB_PROFILE_DEFINED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_stdlib_profile.py
  - spec_runner/spec_lang_commands.py
  - docs/spec/governance/cases/core/spec_lang_stdlib_profile_complete.spec.md
  notes: Defines canonical stdlib profile source of truth for implementation and docs parity checks.
- rule_id: SPEC_LANG_STDLIB_PROFILE_COMPLETE
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_STDLIB_PROFILE_COMPLETE
  contract_refs:
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids:
  - SRCONF-STDLIB-001
  - SRCONF-STDLIB-002
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_stdlib_profile.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_lang_stdlib_profile_complete.spec.md
  notes: Governance fails when any profile symbol is missing in Python or PHP implementations.
- rule_id: SPEC_LANG_STDLIB_PY_PHP_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_STDLIB_PY_PHP_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  - tests/test_conformance_parity_unit.py
  implementation_refs:
  - spec_runner/spec_lang_stdlib_profile.py
  - scripts/php/spec_runner.php
  - spec_runner/spec_lang.py
  - docs/spec/governance/cases/core/spec_lang_stdlib_py_php_parity.spec.md
  notes: Python and PHP symbol surfaces must remain parity-clean against profile symbols.
- rule_id: SPEC_LANG_STDLIB_DOCS_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_STDLIB_DOCS_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_stdlib_profile.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_lang_stdlib_docs_sync.spec.md
  notes: Core docs must reference the canonical stdlib profile contract artifacts.
- rule_id: SPEC_LANG_STDLIB_CONFORMANCE_COVERAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SPEC_LANG_STDLIB_CONFORMANCE_COVERAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/06_conformance.md
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-STDLIB-003
  - SRCONF-STDLIB-004
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_lang_stdlib_conformance_coverage.spec.md
  notes: Required stdlib conformance fixture files must exist and remain in canonical paths.
- rule_id: RUNTIME_SINGLE_PUBLIC_RUNNER_ENTRYPOINT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_SINGLE_PUBLIC_RUNNER_ENTRYPOINT_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/core_gate.sh
  - scripts/ci_gate.sh
  - scripts/docs_doctor.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_public_runner_entrypoint_single.spec.md
  notes: Gate scripts must reference scripts/runner_adapter.sh as the single public runner entrypoint.
- rule_id: RUNTIME_PUBLIC_ENTRYPOINT_RUST_DEFAULT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PUBLIC_ENTRYPOINT_RUST_DEFAULT_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/16_rust_primary_transition.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_public_runner_default_rust.spec.md
  notes: Canonical runner adapter defaults to rust implementation mode.
- rule_id: RUNTIME_RUNNER_ADAPTER_PYTHON_IMPL_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_RUNNER_ADAPTER_PYTHON_IMPL_FORBIDDEN
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/runner_adapter.sh
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_runner_adapter_python_impl_forbidden.spec.md
  notes: Runtime runner adapter rejects python impl selection with migration guidance.
- rule_id: RUNTIME_PUBLIC_DOCS_NO_DIRECT_RUST_ADAPTER_INVOCATION
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PUBLIC_DOCS_NO_DIRECT_RUST_ADAPTER_INVOCATION
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/development.md
  - README.md
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/runtime_no_public_direct_rust_adapter_docs.spec.md
  notes: Public docs avoid directing users to internal rust adapter paths.
- rule_id: ASSERT_SUBJECT_PROFILE_JSON_CORE_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_SUBJECT_PROFILE_JSON_CORE_ONLY
  contract_refs:
  - docs/spec/contract/20_subject_profiles_v1.md
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/subject_profiles_v1.yaml
  conformance_case_ids:
  - SRCONF-PROFILE-001
  - SRCONF-PROFILE-002
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_subject_profiles_json_only.spec.md
  notes: Enforces JSON-core subject model in profile schema and evaluator subject validation.
- rule_id: ASSERT_CONTEXT_PROJECTION_CONTRACT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_CONTEXT_PROJECTION_CONTRACT_REQUIRED
  contract_refs:
  - docs/spec/contract/20_subject_profiles_v1.md
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/subject_profiles_v1.yaml
  conformance_case_ids:
  - SRCONF-PROFILE-002
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/api_http.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_adapter_projection_contract_sync.spec.md
  notes: Requires context_json projection targets and profile metadata in core harness adapters.
- rule_id: ASSERT_DOMAIN_ASSERTIONS_LIBRARY_BACKED
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_DOMAIN_ASSERTIONS_LIBRARY_BACKED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/contract/07_portable_spec_authoring.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-DOMAIN-LIB-001
  - SRCONF-DOMAIN-LIB-002
  unit_test_refs:
  - tests/test_quality_metrics_unit.py
  implementation_refs:
  - docs/spec/libraries/domain/http_core.spec.md
  - docs/spec/libraries/domain/make_core.spec.md
  - docs/spec/libraries/domain/markdown_core.spec.md
  - docs/spec/libraries/domain/php_core.spec.md
  - docs/spec/libraries/domain/python_core.spec.md
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_domain_library_usage_required.spec.md
  notes: Domain assertion scenarios must be library-backed rather than ad hoc inline-only expression patterns.
- rule_id: ASSERT_ADAPTER_PROJECTION_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_ADAPTER_PROJECTION_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/20_subject_profiles_v1.md
  schema_refs:
  - docs/spec/schema/subject_profiles_v1.yaml
  conformance_case_ids:
  - SRCONF-PROFILE-001
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - docs/spec/contract/types/python_profile.md
  - docs/spec/contract/types/php_profile.md
  - docs/spec/contract/types/http_profile.md
  - docs/spec/contract/types/markdown_profile.md
  - docs/spec/contract/types/makefile_profile.md
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_domain_profiles_docs_sync.spec.md
  notes: Keeps profile docs and schema declarations synchronized.
- rule_id: ASSERT_NO_NON_JSON_EVALUATOR_TYPES
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_NO_NON_JSON_EVALUATOR_TYPES
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/20_subject_profiles_v1.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-PROFILE-002
  unit_test_refs:
  - tests/test_spec_lang_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/assert_subject_profiles_json_only.spec.md
  notes: Evaluator rejects non-JSON subject values; adapters project native values to JSON.
- rule_id: EXECUTABLE_SURFACES_MUST_BE_SPEC_MD
  policy_ref: docs/spec/contract/policy_v1.yaml#EXECUTABLE_SURFACES_MUST_BE_SPEC_MD
  contract_refs:
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/02_case_shape.md
  - docs/spec/contract/08_v1_scope.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_executable_surface_markdown_only.spec.md
  notes: Enforces .spec.md as the canonical executable authoring surface.
- rule_id: EXECUTABLE_DISCOVERY_MARKDOWN_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#EXECUTABLE_DISCOVERY_MARKDOWN_ONLY
  contract_refs:
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/08_v1_scope.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_codecs_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/codecs.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_no_executable_yaml_json_in_case_trees.spec.md
  notes: Canonical executable trees reject non-markdown format opt-ins.
- rule_id: DATA_ARTIFACT_SURFACES_MUST_REMAIN_MACHINE_FILES
  policy_ref: docs/spec/contract/policy_v1.yaml#DATA_ARTIFACT_SURFACES_MUST_REMAIN_MACHINE_FILES
  contract_refs:
  - docs/spec/contract/08_v1_scope.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_generated_data_artifacts_not_embedded_in_spec_blocks.spec.md
  notes: Keeps baselines/manifests/schemas as machine data and forbids executable fences in those artifacts.
- rule_id: NO_EXECUTABLE_YAML_JSON_CASES_IN_CANONICAL_TREES
  policy_ref: docs/spec/contract/policy_v1.yaml#NO_EXECUTABLE_YAML_JSON_CASES_IN_CANONICAL_TREES
  contract_refs:
  - docs/spec/contract/01_discovery.md
  - docs/spec/contract/08_v1_scope.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_codecs_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/spec_no_executable_yaml_json_in_case_trees.spec.md
  - docs/spec/governance/cases/core/spec_library_cases_markdown_only.spec.md
  notes: Forbids runnable yaml/json spec case files in canonical executable trees.
- rule_id: SCHEMA_REGISTRY_SOURCE_OF_TRUTH_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_REGISTRY_SOURCE_OF_TRUTH_REQUIRED
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/registry/v1/core.yaml
  - docs/spec/schema/registry_schema_v1.yaml
  conformance_case_ids:
  - SRCONF-SCHEMA-REG-001
  unit_test_refs:
  - tests/test_schema_registry_unit.py
  implementation_refs:
  - spec_runner/schema_registry.py
  - spec_runner/spec_lang_commands.py
  notes: Registry YAML profiles are the source of truth for executable case-shape constraints.
- rule_id: SCHEMA_REGISTRY_VALIDATION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_REGISTRY_VALIDATION_REQUIRED
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/registry/v1/core.yaml
  conformance_case_ids:
  - SRCONF-SCHEMA-CASE-001
  - SRCONF-SCHEMA-CASE-002
  unit_test_refs:
  - tests/test_schema_validator_unit.py
  implementation_refs:
  - spec_runner/schema_validator.py
  - spec_runner/compiler.py
  notes: Registry-driven case validation executes before harness dispatch.
- rule_id: SCHEMA_DOCS_GENERATED_FROM_REGISTRY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_DOCS_GENERATED_FROM_REGISTRY_REQUIRED
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-SCHEMA-REG-001
  unit_test_refs:
  - tests/test_schema_registry_scripts_unit.py
  implementation_refs:
  - scripts/generate_schema_docs.py
  notes: Generated schema snapshot markers in schema_v1 must stay synchronized with registry data.
- rule_id: SCHEMA_UNKNOWN_KEYS_HARD_FAIL
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_UNKNOWN_KEYS_HARD_FAIL
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/registry/v1/core.yaml
  conformance_case_ids:
  - SRCONF-SCHEMA-CASE-002
  unit_test_refs:
  - tests/test_schema_validator_unit.py
  implementation_refs:
  - spec_runner/schema_validator.py
  notes: Unknown top-level case keys are hard-failed as schema violations.
- rule_id: SCHEMA_TYPE_PROFILE_COVERAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_TYPE_PROFILE_COVERAGE_REQUIRED
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/registry/v1/types/cli_run.yaml
  - docs/spec/schema/registry/v1/types/text_file.yaml
  - docs/spec/schema/registry/v1/types/governance_check.yaml
  - docs/spec/schema/registry/v1/types/spec_lang_library.yaml
  conformance_case_ids:
  - SRCONF-SCHEMA-REG-001
  unit_test_refs:
  - tests/test_schema_registry_unit.py
  implementation_refs:
  - spec_runner/schema_registry.py
  - scripts/run_governance_specs.py
  notes: Governance enforces required type-profile coverage for core executable surfaces.
- rule_id: SCHEMA_PROSE_ONLY_RULES_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_PROSE_ONLY_RULES_FORBIDDEN
  contract_refs:
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-SCHEMA-REG-001
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Schema contract wording must reference registry-backed machine constraints.
- rule_id: DOCS_GENERATOR_REGISTRY_DEFINED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATOR_REGISTRY_DEFINED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - docs/spec/governance/cases/core/docs_generator_registry_valid.spec.md
  notes: Validates docs generator registry structure and required surfaces.
- rule_id: DOCS_GENERATOR_ORCHESTRATOR_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATOR_ORCHESTRATOR_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - scripts/runner_adapter.sh
  - scripts/python/runner_adapter.sh
  - scripts/rust/spec_runner_cli/src/main.rs
  notes: Ensures a single docs generation orchestrator command path.
- rule_id: DOCS_GENERATED_SURFACES_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATED_SURFACES_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - docs/spec/governance/cases/core/docs_generator_outputs_sync.spec.md
  notes: Hard-fails when any declared generated docs surface is stale.
- rule_id: DOCS_GENERATED_SECTIONS_READ_ONLY
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATED_SECTIONS_READ_ONLY
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - docs/spec/governance/cases/core/docs_generated_sections_read_only.spec.md
  notes: Enforces generated marker boundaries for mixed manual/generated docs.
- rule_id: DOCS_API_CATALOGS_GENERATED_AND_SYNCED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_API_CATALOGS_GENERATED_AND_SYNCED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/runner_api_catalog_v1.yaml
  - docs/spec/schema/harness_type_catalog_v1.yaml
  - docs/spec/schema/spec_lang_builtin_catalog_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_runner_api_catalog_unit.py
  - tests/test_generate_harness_type_catalog_unit.py
  - tests/test_generate_spec_lang_builtin_catalog_unit.py
  implementation_refs:
  - scripts/generate_runner_api_catalog.py
  - scripts/generate_harness_type_catalog.py
  - scripts/generate_spec_lang_builtin_catalog.py
  - docs/spec/governance/cases/core/docs_runner_api_catalog_sync.spec.md
  - docs/spec/governance/cases/core/docs_harness_type_catalog_sync.spec.md
  - docs/spec/governance/cases/core/docs_spec_lang_builtin_catalog_sync.spec.md
  notes: Catalog generators define and verify machine-backed API documentation surfaces.
- rule_id: DOCS_POLICY_RULE_CATALOG_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_POLICY_RULE_CATALOG_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_policy_rule_catalog_unit.py
  implementation_refs:
  - scripts/generate_policy_rule_catalog.py
  - docs/spec/governance/cases/core/docs_policy_rule_catalog_sync.spec.md
  notes: Policy rule catalog docs surface is generated from policy_v1 rule source.
- rule_id: DOCS_TRACEABILITY_CATALOG_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_TRACEABILITY_CATALOG_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_traceability_catalog_unit.py
  implementation_refs:
  - scripts/generate_traceability_catalog.py
  - docs/spec/governance/cases/core/docs_traceability_catalog_sync.spec.md
  notes: Traceability catalog docs surface is generated from traceability link source.
- rule_id: DOCS_GOVERNANCE_CHECK_CATALOG_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GOVERNANCE_CHECK_CATALOG_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_governance_check_catalog_unit.py
  implementation_refs:
  - scripts/generate_governance_check_catalog.py
  - docs/spec/governance/cases/core/docs_governance_check_catalog_sync.spec.md
  notes: Governance check inventory and case map are generated from runtime registration.
- rule_id: DOCS_METRICS_FIELD_CATALOG_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_METRICS_FIELD_CATALOG_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_metrics_field_catalog_unit.py
  implementation_refs:
  - scripts/generate_metrics_field_catalog.py
  - docs/spec/governance/cases/core/docs_metrics_field_catalog_sync.spec.md
  notes: Metrics baseline field inventory is generated and synchronized.
- rule_id: DOCS_SPEC_SCHEMA_FIELD_CATALOG_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_SPEC_SCHEMA_FIELD_CATALOG_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/21_schema_registry_contract.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_spec_schema_field_catalog_unit.py
  implementation_refs:
  - scripts/generate_spec_schema_field_catalog.py
  - docs/spec/governance/cases/core/docs_spec_schema_field_catalog_sync.spec.md
  notes: Schema field catalog is generated from compiled registry into schema and book references.
- rule_id: DOCS_GENERATOR_REPORT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_GENERATOR_REPORT_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_generator_outputs_sync.spec.md
  notes: Ensures docs generator execution emits deterministic report artifacts.
- rule_id: DOCS_LAYOUT_CANONICAL_TREES_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_LAYOUT_CANONICAL_TREES_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/22_docs_information_architecture.md
  schema_refs:
  - docs/spec/schema/docs_layout_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_layout_canonical_trees.spec.md
  notes: Enforces canonical docs tree roots and forbids legacy review root.
- rule_id: DOCS_INDEX_FILENAME_INDEX_MD_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_INDEX_FILENAME_INDEX_MD_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/22_docs_information_architecture.md
  schema_refs:
  - docs/spec/schema/docs_layout_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_index_filename_policy.spec.md
  notes: Requires `index.md` for docs directory index files and forbids docs-local README index files.
- rule_id: DOCS_FILENAME_POLICY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_FILENAME_POLICY_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  - docs/spec/contract/22_docs_information_architecture.md
  schema_refs:
  - docs/spec/schema/docs_layout_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_filename_policy.spec.md
  notes: Enforces lowercase/no-space docs filename policy.
- rule_id: DOCS_HISTORY_REVIEWS_NAMESPACE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_HISTORY_REVIEWS_NAMESPACE_REQUIRED
  contract_refs:
  - docs/spec/contract/22_docs_information_architecture.md
  schema_refs:
  - docs/spec/schema/docs_layout_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_history_reviews_namespace.spec.md
  notes: Requires `docs/history/reviews` namespace and forbids `docs/history/reviews`.
- rule_id: DOCS_NO_OS_ARTIFACT_FILES_TRACKED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_NO_OS_ARTIFACT_FILES_TRACKED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_layout_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/normalize_docs_layout.py
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_no_os_artifact_files.spec.md
  notes: Hard-fails tracked OS/editor artifact files under docs.
- rule_id: DOCS_BOOK_CHAPTER_ORDER_CANONICAL
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_BOOK_CHAPTER_ORDER_CANONICAL
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/book/reference_manifest.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_book_chapter_order_canonical.spec.md
  notes: Enforces canonical Learn -> Do -> Debug chapter order and appendix order.
- rule_id: DOCS_BOOK_APPENDIX_CATALOG_NAMESPACE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_BOOK_APPENDIX_CATALOG_NAMESPACE_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  - docs/book/reference_manifest.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_generate_all_script_unit.py
  implementation_refs:
  - scripts/docs_generate_all.py
  - docs/spec/governance/cases/core/docs_book_chapter_order_canonical.spec.md
  notes: Keeps generated catalog chapters in `9x_appendix_*` namespace.
- rule_id: DOCS_SPEC_LANG_GUIDE_BEFORE_REFERENCE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_SPEC_LANG_GUIDE_BEFORE_REFERENCE_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/book/reference_manifest.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/governance/cases/core/docs_book_chapter_order_canonical.spec.md
  notes: Enforces guide chapter before strict spec-lang reference chapter.
- rule_id: API_HTTP_OAUTH_HARNESS_PROFILE_SUPPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_OAUTH_HARNESS_PROFILE_SUPPORTED
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-004
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  notes: api.http harness supports OAuth client-credentials profile.
- rule_id: API_HTTP_OAUTH_ENV_REF_ONLY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_OAUTH_ENV_REF_ONLY_REQUIRED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-005
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/harnesses/api_http.py
  notes: Enforces env-ref-only OAuth credential fields.
- rule_id: API_HTTP_OAUTH_SECRET_REDACTION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_OAUTH_SECRET_REDACTION_REQUIRED
  contract_refs:
  - docs/spec/contract/types/http_profile.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-004
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  notes: Context profile and diagnostics avoid token/secret leakage.
- rule_id: API_HTTP_DETERMINISTIC_DEFAULT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_DETERMINISTIC_DEFAULT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-001
  - SRCONF-API-004
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  notes: Deterministic mode is the default api.http execution lane.
- rule_id: API_HTTP_LIVE_MODE_EXPLICIT_OPT_IN_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_LIVE_MODE_EXPLICIT_OPT_IN_REQUIRED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-006
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/harnesses/api_http.py
  notes: Network token/request flows require explicit live-mode opt-in.
- rule_id: API_HTTP_VERB_SUITE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_VERB_SUITE_REQUIRED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-004
  - SRCONF-API-005
  - SRCONF-API-006
  - SRCONF-API-007
  - SRCONF-API-008
  - SRCONF-API-009
  - SRCONF-API-010
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  - scripts/php/conformance_runner.php
  notes: Practical REST verb suite is validated and rejects unsupported methods.
- rule_id: API_HTTP_CORS_PRELIGHT_AND_ACTUAL_SUPPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_CORS_PRELIGHT_AND_ACTUAL_SUPPORTED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  - docs/spec/contract/types/http_profile.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-011
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  - docs/spec/libraries/domain/http_core.spec.md
  notes: CORS preflight request constraints and normalized response projection are explicit.
- rule_id: API_HTTP_SCENARIO_ROUNDTRIP_SUPPORTED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_SCENARIO_ROUNDTRIP_SUPPORTED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-012
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  - scripts/php/conformance_runner.php
  notes: Scenario requests execute ordered round-trip flow with step interpolation.
- rule_id: API_HTTP_SCENARIO_DETERMINISTIC_LIFECYCLE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_SCENARIO_DETERMINISTIC_LIFECYCLE_REQUIRED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-012
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/harnesses/api_http.py
  notes: Setup/probe/teardown semantics are deterministic with teardown in finally behavior.
- rule_id: API_HTTP_PY_PHP_BEHAVIOR_PARITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_PY_PHP_BEHAVIOR_PARITY_REQUIRED
  contract_refs:
  - docs/spec/contract/types/api_http.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-API-001
  - SRCONF-API-012
  unit_test_refs:
  - tests/test_conformance_parity_unit.py
  - tests/test_php_spec_runner_unit.py
  implementation_refs:
  - spec_runner/conformance_parity.py
  - scripts/php/conformance_runner.php
  notes: Shared api.http fixture outcomes stay parity-consistent across python/php lanes.
- rule_id: API_HTTP_TUTORIAL_COVERAGE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#API_HTTP_TUTORIAL_COVERAGE_REQUIRED
  contract_refs:
  - docs/book/05_howto.md
  - docs/book/06_troubleshooting.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Docs include contributor tutorials for REST verbs, CORS, and round-trip scenarios.
- rule_id: DOCS_STDLIB_SYMBOL_DESCRIPTION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_STDLIB_SYMBOL_DESCRIPTION_REQUIRED
  contract_refs:
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_spec_lang_reference_docgen_unit.py
  implementation_refs:
  - scripts/generate_spec_lang_builtin_catalog.py
  - docs/book/93a_std_core.md
  - docs/book/93i_std_json_schema_fn_null.md
  notes: Generated namespace chapter payloads include semantic symbol docs.
- rule_id: DOCS_STDLIB_EXAMPLES_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_STDLIB_EXAMPLES_REQUIRED
  contract_refs:
  - docs/spec/contract/19_spec_lang_stdlib_profile_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_spec_lang_reference_docgen_unit.py
  implementation_refs:
  - scripts/generate_spec_lang_builtin_catalog.py
  notes: Each symbol includes deterministic examples.
- rule_id: DOCS_REFERENCE_NAMESPACE_CHAPTERS_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_REFERENCE_NAMESPACE_CHAPTERS_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/book/reference_manifest.yaml
  notes: Governance enforces namespace chapter presence and manifest synchronization.
- rule_id: DOCS_RUNNER_COMMAND_SEMANTICS_DOC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_RUNNER_COMMAND_SEMANTICS_DOC_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/runner_reference_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_runner_reference_docgen_unit.py
  implementation_refs:
  - scripts/generate_runner_api_catalog.py
  notes: Runner reference output includes behavior/default/failure/example sections.
- rule_id: DOCS_HARNESS_FIELD_SEMANTICS_DOC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_HARNESS_FIELD_SEMANTICS_DOC_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/harness_reference_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_generate_harness_reference_docgen_unit.py
  implementation_refs:
  - scripts/generate_harness_type_catalog.py
  notes: Harness reference output includes behavior/default/failure/example sections.
- rule_id: DOCS_DOCGEN_OUTPUT_MIN_QUALITY_SCORE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_DOCGEN_OUTPUT_MIN_QUALITY_SCORE_REQUIRED
  contract_refs:
  - docs/spec/contract/10_docs_quality.md
  schema_refs:
  - docs/spec/schema/docs_generator_registry_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_docs_docgen_quality_checks_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance enforces quality score threshold over generated catalog artifacts.
- rule_id: DOCS_MARKDOWN_STRUCTURED_ASSERTIONS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_MARKDOWN_STRUCTURED_ASSERTIONS_REQUIRED
  contract_refs:
  - docs/spec/contract/types/markdown_profile.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/libraries/domain/markdown_core.spec.md
  notes: Markdown docs assertions should use structured helper predicates over plain contains checks.
- rule_id: DOCS_MARKDOWN_NAMESPACE_LEGACY_ALIAS_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#DOCS_MARKDOWN_NAMESPACE_LEGACY_ALIAS_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-MARKDOWN-NS-001
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - docs/spec/libraries/domain/markdown_core.spec.md
  notes: Governed docs surfaces forbid md.* symbols and require domain.markdown.*.
- rule_id: HARNESS_WORKFLOW_COMPONENTS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_WORKFLOW_COMPONENTS_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/execution_context.py
  - spec_runner/components/assertion_engine.py
  - spec_runner/components/subject_router.py
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/orchestration_run.py
  - spec_runner/harnesses/docs_generate.py
  - spec_runner/harnesses/api_http.py
  notes: Shared component workflow is required across all harness types.
- rule_id: HARNESS_LOCAL_WORKFLOW_DUPLICATION_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_LOCAL_WORKFLOW_DUPLICATION_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance forbids legacy per-harness workflow tokens.
- rule_id: HARNESS_TYPE_OVERLAY_COMPLETE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_TYPE_OVERLAY_COMPLETE_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/registry/v1/types/orchestration_run.yaml
  - docs/spec/schema/registry/v1/types/docs_generate.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Overlay completeness is hard-failed by governance.
- rule_id: HARNESS_CONTRACT_OVERLAY_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_CONTRACT_OVERLAY_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/current.md
  schema_refs:
  - docs/spec/schema/registry/v1/types/orchestration_run.yaml
  - docs/spec/schema/registry/v1/types/docs_generate.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Contract prose and overlays must remain aligned.
- rule_id: HARNESS_SUBJECT_TARGET_MAP_DECLARED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_SUBJECT_TARGET_MAP_DECLARED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/components/subject_router.py
  notes: Harnesses must declare explicit target mapping for assertions.
- rule_id: CHAIN_REFERENCE_CONTRACT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_REFERENCE_CONTRACT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CODEMOD-002
  unit_test_refs:
  - tests/test_dispatcher_unit.py
  - tests/test_chain_engine_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - spec_runner/dispatcher.py
  - scripts/convert_chain_ref_format.py
  notes: Chain references use scalar ref format [path][#case_id], are schema-checked, and resolve deterministically.
- rule_id: CHAIN_EXPORTS_EXPLICIT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_EXPORTS_EXPLICIT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  notes: Producer symbol ownership flows through explicit harness.exports declarations.
- rule_id: CHAIN_EXPORTS_FROM_KEY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_EXPORTS_FROM_KEY_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  notes: Harness exports must use from key only.
- rule_id: CHAIN_EXPORTS_LIST_ONLY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_EXPORTS_LIST_ONLY_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CHAIN-EXPORT-001
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  notes: Harness exports are list-only and mapping-form entries are rejected.
- rule_id: CHAIN_LEGACY_FROM_TARGET_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_LEGACY_FROM_TARGET_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CODEMOD-001
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - scripts/convert_chain_export_from_key.py
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  notes: Legacy from_target is rejected across runtime and tooling.
- rule_id: CHAIN_LIBRARY_SYMBOL_EXPORTS_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_LIBRARY_SYMBOL_EXPORTS_VALID
  contract_refs:
  - docs/spec/contract/04_harness.md
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - spec_runner/spec_lang_libraries.py
  - scripts/run_governance_specs.py
  notes: from=assert.function harness exports require explicit symbol path, with compile-only resolution.
- rule_id: CHAIN_FAIL_FAST_DEFAULT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_FAIL_FAST_DEFAULT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  notes: Chain execution defaults to fail-fast true when not specified.
- rule_id: CHAIN_CYCLE_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_CYCLE_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/dispatcher.py
  notes: Governance and runtime recursion guards reject direct and indirect cycles.
- rule_id: CHAIN_SHARED_CONTEXT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_SHARED_CONTEXT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_harness_api_http_unit.py
  implementation_refs:
  - spec_runner/dispatcher.py
  - spec_runner/harnesses/api_http.py
  notes: Shared runtime context carries chain_state and chain_trace across prerequisite execution.
- rule_id: UNIVERSAL_CHAIN_SUPPORT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#UNIVERSAL_CHAIN_SUPPORT_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_dispatcher_unit.py
  implementation_refs:
  - spec_runner/dispatcher.py
  - scripts/run_governance_specs.py
  notes: Dispatcher executes chain orchestration before all executable harness dispatch paths.
- rule_id: CHAIN_STEP_CLASS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_STEP_CLASS_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - scripts/run_governance_specs.py
  notes: Chain step classes are explicit and validated as must/can/cannot.
- rule_id: CHAIN_IMPORT_ALIAS_COLLISION_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_IMPORT_ALIAS_COLLISION_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_chain_engine_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/chain_engine.py
  - scripts/run_governance_specs.py
  notes: Chain import alias maps are validated for unknown names, collisions, and reserved symbol shadowing.
- rule_id: CHAIN_CONTRACT_SINGLE_LOCATION_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CHAIN_CONTRACT_SINGLE_LOCATION_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  notes: Chain declarations are constrained to harness.chain and alternate locations are rejected.
- rule_id: EXECUTABLE_SPEC_LANG_INCLUDES_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#EXECUTABLE_SPEC_LANG_INCLUDES_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_normalize_repo_script_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/execution_context.py
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  - scripts/migrate_includes_to_chain_symbols.py
  notes: Executable cases must chain-load symbols; includes are library-only.
- rule_id: LIBRARY_VERB_FIRST_SCHEMA_KEYS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_VERB_FIRST_SCHEMA_KEYS_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  - docs/spec/schema/registry/v1/types/spec_lang_library.yaml
  conformance_case_ids:
  - SRCONF-LIB-CONTRACT-001
  - SRCONF-LIB-CONTRACT-002
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Library contract and governance enforce verb-first defines.public/private schema keys.
- rule_id: LIBRARY_LEGACY_DEFINITIONS_KEY_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#LIBRARY_LEGACY_DEFINITIONS_KEY_FORBIDDEN
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids:
  - SRCONF-CODEMOD-003
  unit_test_refs:
  - tests/test_spec_lang_libraries_unit.py
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang_libraries.py
  - scripts/php/spec_runner.php
  - scripts/php/conformance_runner.php
  - scripts/run_governance_specs.py
  - scripts/normalize_repo.py
  - scripts/convert_definitions_to_defines.py
  notes: Runtime, governance, normalization, and codemod tooling hard-cut legacy definitions key usage.
- rule_id: SCHEMA_VERB_FIRST_CONTRACT_SYNC_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#SCHEMA_VERB_FIRST_CONTRACT_SYNC_REQUIRED
  contract_refs:
  - docs/spec/contract/14_spec_lang_libraries.md
  - docs/spec/current.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance enforces defines wording alignment across schema, contract, and current snapshot docs.
- rule_id: RUNTIME_PROFILING_CONTRACT_ARTIFACTS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PROFILING_CONTRACT_ARTIFACTS_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  - docs/spec/current.md
  schema_refs:
  - docs/spec/schema/run_trace_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/components/profiler.py
  notes: Ensures runtime profiling contract and schema artifacts remain present and wired into governance.
- rule_id: RUNTIME_PROFILING_REDACTION_POLICY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PROFILING_REDACTION_POLICY_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs:
  - docs/spec/schema/run_trace_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/components/profiler.py
  notes: Profiling artifacts redact secret-like values and forbid raw env value emission.
- rule_id: RUNTIME_PROFILING_SPAN_TAXONOMY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PROFILING_SPAN_TAXONOMY_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs:
  - docs/spec/schema/run_trace_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  - spec_runner/components/profiler.py
  - scripts/rust/spec_runner_cli/src/profiler.rs
  notes: Runtime profiling traces include required run/case/check/subprocess span taxonomy.
- rule_id: RUNTIME_GATE_FAIL_FAST_BEHAVIOR_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GATE_FAIL_FAST_BEHAVIOR_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  notes: Gate orchestration defaults to deterministic fail-fast and emits explicit abort markers.
- rule_id: RUNTIME_GATE_SKIPPED_STEPS_CONTRACT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GATE_SKIPPED_STEPS_CONTRACT_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  notes: Gate summary payload includes deterministic skipped-tail metadata for fail-fast runs.
- rule_id: RUNTIME_PROFILE_ARTIFACTS_ON_FAIL_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_PROFILE_ARTIFACTS_ON_FAIL_REQUIRED
  contract_refs:
  - docs/spec/contract/24_runtime_profiling_contract.md
  schema_refs:
  - docs/spec/schema/run_trace_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  notes: Failing gate runs with profile-on-fail enabled emit diagnostic trace artifacts.
- rule_id: RUNTIME_GATE_POLICY_SKIPPED_ROWS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#RUNTIME_GATE_POLICY_SKIPPED_ROWS_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  - docs/spec/contract/18_governance_subject_extractors.md
  schema_refs: []
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/ci_gate_summary.py
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/run_governance_specs.py
  notes: Policy evaluation considers full rows including skipped statuses to preserve fail-fast correctness.
- rule_id: ASSERT_BLOCK_DECISION_AUTHORITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#ASSERT_BLOCK_DECISION_AUTHORITY_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: Governance verdict authority is encoded in assert blocks only.
- rule_id: POLICY_EVALUATE_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#POLICY_EVALUATE_FORBIDDEN
  contract_refs:
  - docs/spec/contract/03_assertions.md
  - docs/spec/contract/15_governance_subject_model.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/run_governance_specs.py
  notes: governance.check harness policy_evaluate fields are forbidden.
- rule_id: META_JSON_TARGET_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#META_JSON_TARGET_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/harnesses/text_file.py
  - spec_runner/harnesses/cli_run.py
  - spec_runner/harnesses/docs_generate.py
  - spec_runner/harnesses/orchestration_run.py
  - spec_runner/harnesses/api_http.py
  notes: executable harnesses expose meta_json assertion target.
- rule_id: OPS_OS_CAPABILITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#OPS_OS_CAPABILITY_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/spec_lang.py
  - spec_runner/spec_lang_std_names.py
  notes: ops.os builtins are capability-gated and declared in stdlib profile.
- rule_id: CONTRACT_SPEC_FENCE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_SPEC_FENCE_REQUIRED
  contract_refs:
  - docs/spec/contract/02_case_shape.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/doc_parser.py
  - scripts/run_governance_specs.py
  notes: Executable markdown discovery requires contract-spec fence token.
- rule_id: LEGACY_SPEC_TEST_FENCE_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#LEGACY_SPEC_TEST_FENCE_FORBIDDEN
  contract_refs:
  - docs/spec/contract/02_case_shape.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/doc_parser.py
  - scripts/run_governance_specs.py
  notes: Legacy spec-test token is rejected on canonical surfaces.
- rule_id: CASE_CONTRACT_BLOCK_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CASE_CONTRACT_BLOCK_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  notes: Top-level contract block is required for executable cases.
- rule_id: LEGACY_ASSERT_BLOCK_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#LEGACY_ASSERT_BLOCK_FORBIDDEN
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - scripts/run_governance_specs.py
  notes: Legacy assert block is forbidden after hard cut.
- rule_id: CONTRACT_STEP_ASSERTS_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_STEP_ASSERTS_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - scripts/run_governance_specs.py
  notes: Contract step-form nodes require asserts list.
- rule_id: LEGACY_CHECKS_KEY_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#LEGACY_CHECKS_KEY_FORBIDDEN
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/compiler.py
  - spec_runner/assertions.py
  - scripts/run_governance_specs.py
  notes: Legacy checks key is forbidden in contract trees.
- rule_id: CONTRACT_JOB_DISPATCH_IN_CONTRACT_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#CONTRACT_JOB_DISPATCH_IN_CONTRACT_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/main.rs
  - scripts/rust/spec_runner_cli/src/spec_lang.rs
  notes: contract.job helper execution is initiated from contract assertions via ops.job.dispatch.
- rule_id: HARNESS_JOBS_METADATA_MAP_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_JOBS_METADATA_MAP_REQUIRED
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/main.rs
  notes: contract.job metadata uses harness.jobs.<name> mapping entries.
- rule_id: HARNESS_JOB_LEGACY_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_JOB_LEGACY_FORBIDDEN
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/main.rs
  notes: legacy singular harness.job form is rejected.
- rule_id: OPS_JOB_CAPABILITY_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#OPS_JOB_CAPABILITY_REQUIRED
  contract_refs:
  - docs/spec/contract/03b_spec_lang_v1.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/spec_lang.rs
  notes: ops.job.dispatch requires explicit ops.job capability.
- rule_id: OPS_JOB_NESTED_DISPATCH_FORBIDDEN
  policy_ref: docs/spec/contract/policy_v1.yaml#OPS_JOB_NESTED_DISPATCH_FORBIDDEN
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/spec_lang_stdlib_profile_v1.yaml
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - scripts/rust/spec_runner_cli/src/spec_lang.rs
  notes: nested dispatch produces deterministic runtime.dispatch.nested_forbidden token.
- rule_id: HARNESS_ON_HOOKS_SCHEMA_VALID
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_ON_HOOKS_SCHEMA_VALID
  contract_refs:
  - docs/spec/contract/04_harness.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/hook_engine.py
  - scripts/normalize_repo.py
  - scripts/run_governance_specs.py
  notes: harness.on shape and allowed key contract are validated.
- rule_id: HARNESS_ON_CLASS_HOOK_ORDER_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_ON_CLASS_HOOK_ORDER_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/assertions.py
  - spec_runner/components/assertion_engine.py
  notes: class hooks execute after successful clause pass and before complete.
- rule_id: HARNESS_ON_FAIL_HOOK_ON_FIRST_FAILURE_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_ON_FAIL_HOOK_ON_FIRST_FAILURE_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/assertion_engine.py
  notes: fail hook is guarded to run only once on first failure.
- rule_id: HARNESS_ON_COMPLETE_HOOK_AFTER_FINAL_CLASS_HOOK_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_ON_COMPLETE_HOOK_AFTER_FINAL_CLASS_HOOK_REQUIRED
  contract_refs:
  - docs/spec/contract/03_assertions.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/assertion_engine.py
  notes: complete hook executes after full successful clause lifecycle.
- rule_id: HARNESS_ON_HOOK_FAILURE_FAILFAST_REQUIRED
  policy_ref: docs/spec/contract/policy_v1.yaml#HARNESS_ON_HOOK_FAILURE_FAILFAST_REQUIRED
  contract_refs:
  - docs/spec/contract/12_runner_interface.md
  schema_refs:
  - docs/spec/schema/schema_v1.md
  conformance_case_ids: []
  unit_test_refs:
  - tests/test_run_governance_specs_script_unit.py
  implementation_refs:
  - spec_runner/components/assertion_engine.py
  - scripts/rust/spec_runner_cli/src/main.rs
  notes: hook evaluation failures are runtime-fatal and abort execution.
